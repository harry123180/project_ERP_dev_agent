{"version":3,"file":"delivery-337552f6.js","sources":["../../src/api/delivery.ts"],"sourcesContent":["import api from './index'\r\n\r\n// 定義介面\r\nexport interface DeliveryMaintenanceResponse {\r\n  success: boolean\r\n  data: PurchaseOrder[]\r\n  summary: {\r\n    total_pos: number\r\n    need_status_update: number\r\n    can_create_consolidation: number\r\n    domestic_count: number\r\n    international_count: number\r\n  }\r\n}\r\n\r\nexport interface PurchaseOrder {\r\n  po_number: string\r\n  supplier_id: string\r\n  supplier_name: string\r\n  supplier_region: 'domestic' | 'international'\r\n  delivery_status: string\r\n  expected_delivery_date?: string\r\n  actual_delivery_date?: string\r\n  remarks: string\r\n  status_update_required: boolean\r\n  consolidation_id?: string\r\n  item_count: number\r\n  can_create_consolidation: boolean\r\n}\r\n\r\nexport interface ConsolidationListResponse {\r\n  success: boolean\r\n  data: Consolidation[]\r\n}\r\n\r\nexport interface Consolidation {\r\n  consolidation_id: string\r\n  pos: Array<{\r\n    po_number: string\r\n    supplier_name: string\r\n    item_count: number\r\n  }>\r\n  total_items: number\r\n  logistics_status: string\r\n  expected_delivery?: string\r\n}\r\n\r\nexport interface MaintenanceListParams {\r\n  page?: number\r\n  page_size?: number\r\n  status?: string\r\n  supplier_region?: string\r\n  po_number?: string\r\n}\r\n\r\nexport interface UpdateStatusRequest {\r\n  new_status: string\r\n  expected_date?: string\r\n  remarks?: string\r\n}\r\n\r\nexport interface UpdateRemarksRequest {\r\n  remarks: string\r\n}\r\n\r\nexport interface CreateConsolidationRequest {\r\n  consolidation_name?: string\r\n  purchase_order_nos: string[]\r\n}\r\n\r\n// API 函數\r\nexport const getMaintenanceList = async (params?: MaintenanceListParams): Promise<DeliveryMaintenanceResponse> => {\r\n  const response = await api.get('/delivery/maintenance-list', { params })\r\n  return response.data\r\n}\r\n\r\nexport const getConsolidationList = async (): Promise<ConsolidationListResponse> => {\r\n  const response = await api.get('/delivery/consolidation-list')\r\n  return response.data\r\n}\r\n\r\nexport const updateDeliveryStatus = async (poNumber: string, data: UpdateStatusRequest): Promise<any> => {\r\n  const response = await api.put(`/delivery/orders/${poNumber}/status`, data)\r\n  return response.data\r\n}\r\n\r\nexport const updateRemarks = async (poNumber: string, data: UpdateRemarksRequest): Promise<any> => {\r\n  const response = await api.put(`/delivery/orders/${poNumber}/remarks`, data)\r\n  return response.data\r\n}\r\n\r\nexport const createConsolidation = async (data: CreateConsolidationRequest): Promise<any> => {\r\n  const response = await api.post('/delivery/consolidations', data)\r\n  return response.data\r\n}\r\n\r\n// 更新集運單狀態\r\nexport interface UpdateConsolidationStatusRequest {\r\n  new_status: string\r\n  carrier?: string\r\n  tracking_number?: string\r\n  expected_date?: string\r\n  remarks?: string\r\n}\r\n\r\nexport const updateConsolidationStatus = async (consolidationId: string, data: UpdateConsolidationStatusRequest): Promise<any> => {\r\n  const response = await api.put(`/delivery/consolidations/${consolidationId}/status`, data)\r\n  return response.data\r\n}\r\n\r\nexport default {\r\n  getMaintenanceList,\r\n  getConsolidationList,\r\n  updateDeliveryStatus,\r\n  updateRemarks,\r\n  createConsolidation,\r\n  updateConsolidationStatus\r\n}"],"names":["getMaintenanceList","params","api","getConsolidationList","updateDeliveryStatus","poNumber","data","updateRemarks","createConsolidation","updateConsolidationStatus","consolidationId"],"mappings":"yCAuEa,MAAAA,EAAqB,MAAOC,IACtB,MAAMC,EAAI,IAAI,6BAA8B,CAAE,OAAAD,EAAQ,GACvD,KAGLE,EAAuB,UACjB,MAAMD,EAAI,IAAI,8BAA8B,GAC7C,KAGLE,EAAuB,MAAOC,EAAkBC,KAC1C,MAAMJ,EAAI,IAAI,oBAAoBG,CAAQ,UAAWC,CAAI,GAC1D,KAGLC,EAAgB,MAAOF,EAAkBC,KACnC,MAAMJ,EAAI,IAAI,oBAAoBG,CAAQ,WAAYC,CAAI,GAC3D,KAGLE,EAAsB,MAAOF,IACvB,MAAMJ,EAAI,KAAK,2BAA4BI,CAAI,GAChD,KAYLG,EAA4B,MAAOC,EAAyBJ,KACtD,MAAMJ,EAAI,IAAI,4BAA4BQ,CAAe,UAAWJ,CAAI,GACzE"}