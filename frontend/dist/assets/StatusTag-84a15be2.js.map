{"version":3,"file":"StatusTag-84a15be2.js","sources":["../../src/types/common.ts","../../src/components/StatusTag.vue"],"sourcesContent":["export interface BaseEntity {\r\n  created_at?: string\r\n  updated_at?: string\r\n}\r\n\r\nexport interface Supplier extends BaseEntity {\r\n  supplier_id: string\r\n  supplier_name_zh: string\r\n  supplier_name_en?: string\r\n  supplier_address?: string\r\n  supplier_phone?: string\r\n  supplier_email?: string\r\n  supplier_contact_person?: string\r\n  supplier_tax_id?: string\r\n  supplier_region: 'domestic' | 'international'\r\n  supplier_remark?: string\r\n  payment_terms?: string\r\n  bank_account?: string\r\n  is_active: boolean\r\n}\r\n\r\nexport interface ItemCategory extends BaseEntity {\r\n  category_id: number\r\n  category_code: string\r\n  category_name: string\r\n  sort_order: number\r\n  is_active: boolean\r\n}\r\n\r\nexport interface RequestOrder extends BaseEntity {\r\n  request_order_no: string\r\n  requester_id: number\r\n  requester_name: string\r\n  usage_type: 'daily' | 'project'\r\n  project_id?: string\r\n  submit_date?: string\r\n  order_status: 'draft' | 'submitted' | 'reviewed'\r\n  // 加急相關欄位\r\n  is_urgent: boolean\r\n  expected_delivery_date?: string\r\n  urgent_reason?: string\r\n  summary?: {\r\n    total_items: number\r\n    approved_items: number\r\n    rejected_items: number\r\n    questioned_items: number\r\n    pending_items: number\r\n  }\r\n}\r\n\r\nexport interface RequestOrderItem extends BaseEntity {\r\n  detail_id: number\r\n  request_order_no: string\r\n  item_name: string\r\n  item_quantity: number\r\n  item_unit: string\r\n  item_specification?: string\r\n  item_description?: string\r\n  item_category?: string\r\n  item_status: ItemStatus\r\n  acceptance_status: 'pending_acceptance' | 'accepted'\r\n  supplier_id?: string\r\n  unit_price?: number\r\n  material_serial_no?: string\r\n  status_note?: string\r\n  needs_acceptance: boolean\r\n  subtotal: number\r\n  supplier?: Supplier\r\n  category_info?: ItemCategory\r\n}\r\n\r\n\r\n\r\n// 加急相關類型定義\r\nexport interface CreateRequisitionRequest {\r\n  usage_type: 'daily' | 'project'\r\n  project_id?: string\r\n  status?: string\r\n  items: RequisitionItem[]\r\n  // 加急相關欄位\r\n  is_urgent: boolean\r\n  expected_delivery_date?: string\r\n  urgent_reason?: string\r\n}\r\n\r\nexport interface RequisitionItem {\r\n  item_name: string\r\n  item_quantity: number\r\n  item_unit: string\r\n  item_specification?: string\r\n  item_description?: string\r\n  item_category?: string\r\n  needs_acceptance?: boolean\r\n}\r\n\r\nexport interface UrgentSupplier {\r\n  supplier_id: string\r\n  supplier_name_zh: string\r\n  urgent_item_count: number\r\n}\r\n\r\nexport interface PurchaseOrder extends BaseEntity {\r\n  purchase_order_no: string\r\n  supplier_id: string\r\n  supplier_name: string\r\n  supplier_address?: string\r\n  contact_phone?: string\r\n  contact_person?: string\r\n  supplier_tax_id?: string\r\n  order_date?: string\r\n  quotation_no?: string\r\n  delivery_address?: string\r\n  creation_date?: string\r\n  creator_id: number\r\n  output_person_id?: number\r\n  notes?: string\r\n  confirm_purchaser_id?: number\r\n  purchase_status: 'order_created' | 'purchased'\r\n  shipping_status: 'none' | 'shipped' | 'in_transit' | 'customs_clearance' | 'expected_arrival' | 'arrived'\r\n  shipped_at?: string\r\n  eta_date?: string\r\n  arrival_date?: string\r\n  carrier?: string\r\n  tracking_no?: string\r\n  logistics_note?: string\r\n  subtotal_int: number\r\n  tax_decimal1: number\r\n  grand_total_int: number\r\n  billing_status: 'none' | 'billed' | 'paid'\r\n  payment_method?: 'remittance' | 'check' | 'cash'\r\n  due_date?: string\r\n  billed_month?: string\r\n  supplier?: Supplier\r\n  creator?: any\r\n  confirm_purchaser?: any\r\n}\r\n\r\nexport interface PurchaseOrderItem extends BaseEntity {\r\n  detail_id: number\r\n  purchase_order_no: string\r\n  item_name: string\r\n  item_quantity: number\r\n  item_unit: string\r\n  unit_price: number\r\n  item_specification?: string\r\n  item_model?: string\r\n  line_status: 'order_created' | 'purchased' | 'shipped' | 'arrived'\r\n  line_subtotal_int: number\r\n  line_subtotal: number\r\n  source_request_order_no?: string\r\n  source_detail_id?: number\r\n  source_request_item?: RequestOrderItem\r\n}\r\n\r\nexport interface Storage extends BaseEntity {\r\n  storage_id: string\r\n  area_code: string\r\n  shelf_code: string\r\n  floor_level: number\r\n  front_back_position: number\r\n  left_middle_right_position: number\r\n  is_active: boolean\r\n  current_inventory: number\r\n}\r\n\r\nexport interface StorageHistory extends BaseEntity {\r\n  history_id: number\r\n  storage_id: string\r\n  item_id: string\r\n  operation_type: 'in' | 'out'\r\n  operation_date: string\r\n  operator_id: number\r\n  quantity: number\r\n  source_type?: string\r\n  source_no?: string\r\n  source_line?: number\r\n  note?: string\r\n  request_item_id?: number\r\n  storage?: Storage\r\n  operator?: any\r\n  request_item?: RequestOrderItem\r\n}\r\n\r\nexport interface Project extends BaseEntity {\r\n  project_id: string\r\n  project_name: string\r\n  project_status: 'ongoing' | 'completed'\r\n  start_date?: string\r\n  end_date?: string\r\n  total_expenditure: number\r\n  customer_name?: string\r\n  customer_contact?: string\r\n  customer_address?: string\r\n  customer_phone?: string\r\n  customer_department?: string\r\n  supplier_breakdown: ProjectSupplierExpenditure[]\r\n}\r\n\r\nexport interface ProjectSupplierExpenditure extends BaseEntity {\r\n  record_id: number\r\n  project_id: string\r\n  supplier_id: string\r\n  expenditure_amount: number\r\n  supplier?: Supplier\r\n}\r\n\r\nexport interface SystemSettings extends BaseEntity {\r\n  setting_id: number\r\n  setting_type: string\r\n  setting_key: string\r\n  setting_value: string\r\n  setting_description?: string\r\n}\r\n\r\nexport type ItemStatus = \r\n  | 'draft' \r\n  | 'pending_review' \r\n  | 'approved' \r\n  | 'rejected' \r\n  | 'questioned' \r\n  | 'unavailable' \r\n  | 'order_created' \r\n  | 'purchased' \r\n  | 'shipped' \r\n  | 'arrived' \r\n  | 'warehoused' \r\n  | 'issued'\r\n\r\nexport interface PaginationParams {\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nexport interface SortParams {\r\n  sort?: string\r\n  order?: 'asc' | 'desc'\r\n}\r\n\r\nexport interface ListResponse<T> {\r\n  items: T[]\r\n  pagination: {\r\n    page: number\r\n    page_size: number\r\n    total: number\r\n    pages: number\r\n  }\r\n}\r\n\r\nexport interface SelectOption {\r\n  label: string\r\n  value: any\r\n  disabled?: boolean\r\n}\r\n\r\nexport interface BreadcrumbItem {\r\n  text: string\r\n  to?: string\r\n}\r\n\r\n// Form related types\r\nexport interface FormRules {\r\n  [key: string]: any[]\r\n}\r\n\r\n// Status mapping for display\r\nexport const STATUS_LABELS: Record<string, string> = {\r\n  draft: '草稿',\r\n  submitted: '已提交',\r\n  reviewed: '已審核',\r\n  pending_review: '待審核',\r\n  approved: '已核准',\r\n  rejected: '已駁回',\r\n  questioned: '有疑問',\r\n  unavailable: '無法取得',\r\n  order_created: '已建單',\r\n  purchased: '已採購',\r\n  shipped: '已出貨',\r\n  arrived: '已到貨',\r\n  warehoused: '已入庫',\r\n  issued: '已領用',\r\n  cancelled: '已撤銷',\r\n  none: '無',\r\n  billed: '已開票',\r\n  paid: '已付款',\r\n  domestic: '國內',\r\n  international: '國外',\r\n  daily: '日常',\r\n  project: '專案',\r\n  ongoing: '進行中',\r\n  completed: '已完成',\r\n  pending_acceptance: '待驗收',\r\n  accepted: '已驗收'\r\n}\r\n\r\n// Status type mapping for styling\r\nexport const STATUS_TYPES: Record<string, string> = {\r\n  draft: '',\r\n  submitted: 'warning',\r\n  reviewed: 'success',\r\n  pending_review: 'warning',\r\n  approved: 'success',\r\n  rejected: 'danger',\r\n  questioned: 'warning',\r\n  unavailable: 'info',\r\n  order_created: 'primary',\r\n  purchased: 'success',\r\n  shipped: 'primary',\r\n  arrived: 'success',\r\n  warehoused: 'success',\r\n  issued: 'info',\r\n  cancelled: 'info',\r\n  none: '',\r\n  billed: 'warning',\r\n  paid: 'success'\r\n}","<template>\r\n  <el-tag\r\n    :type=\"tagType\"\r\n    :size=\"size\"\r\n    :effect=\"effect\"\r\n    :closable=\"closable\"\r\n    :disable-transitions=\"disableTransitions\"\r\n    :hit=\"hit\"\r\n    :color=\"customColor\"\r\n    :round=\"round\"\r\n    @close=\"$emit('close')\"\r\n    @click=\"$emit('click')\"\r\n  >\r\n    <el-icon v-if=\"icon\" :size=\"iconSize\">\r\n      <component :is=\"icon\" />\r\n    </el-icon>\r\n    {{ displayText }}\r\n  </el-tag>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport type { StatusType } from '@/types/ui'\r\nimport { STATUS_LABELS, STATUS_TYPES } from '@/types/common'\r\n\r\ninterface Props {\r\n  status: string\r\n  size?: 'large' | 'default' | 'small'\r\n  effect?: 'dark' | 'light' | 'plain'\r\n  closable?: boolean\r\n  disableTransitions?: boolean\r\n  hit?: boolean\r\n  color?: string\r\n  round?: boolean\r\n  icon?: string\r\n  showText?: boolean\r\n  customLabels?: Record<string, string>\r\n  customTypes?: Record<string, StatusType>\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  size: 'default',\r\n  effect: 'light',\r\n  closable: false,\r\n  disableTransitions: false,\r\n  hit: false,\r\n  round: false,\r\n  showText: true\r\n})\r\n\r\ninterface Emits {\r\n  (e: 'close'): void\r\n  (e: 'click'): void\r\n}\r\n\r\nconst emit = defineEmits<Emits>()\r\n\r\n// Computed properties\r\nconst tagType = computed((): StatusType => {\r\n  if (props.customTypes && props.customTypes[props.status]) {\r\n    return props.customTypes[props.status]\r\n  }\r\n  return STATUS_TYPES[props.status] || ''\r\n})\r\n\r\nconst displayText = computed(() => {\r\n  if (!props.showText) return ''\r\n  \r\n  if (props.customLabels && props.customLabels[props.status]) {\r\n    return props.customLabels[props.status]\r\n  }\r\n  \r\n  return STATUS_LABELS[props.status] || props.status\r\n})\r\n\r\nconst customColor = computed(() => {\r\n  return props.color || undefined\r\n})\r\n\r\nconst iconSize = computed(() => {\r\n  const sizeMap = {\r\n    large: 16,\r\n    default: 14,\r\n    small: 12\r\n  }\r\n  return sizeMap[props.size]\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.el-tag {\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.el-tag:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.el-tag .el-icon {\r\n  margin-right: 4px;\r\n}\r\n</style>"],"names":["STATUS_LABELS","STATUS_TYPES","props","__props","tagType","computed","displayText","customColor","iconSize","_ctx","_cache","$event","_openBlock","_createBlock","_component_el_icon","_resolveDynamicComponent"],"mappings":"mOAyQO,MAAMA,EAAwC,CACnD,MAAO,KACP,UAAW,MACX,SAAU,MACV,eAAgB,MAChB,SAAU,MACV,SAAU,MACV,WAAY,MACZ,YAAa,OACb,cAAe,MACf,UAAW,MACX,QAAS,MACT,QAAS,MACT,WAAY,MACZ,OAAQ,MACR,UAAW,MACX,KAAM,IACN,OAAQ,MACR,KAAM,MACN,SAAU,KACV,cAAe,KACf,MAAO,KACP,QAAS,KACT,QAAS,MACT,UAAW,MACX,mBAAoB,MACpB,SAAU,KACZ,EAGaC,EAAuC,CAClD,MAAO,GACP,UAAW,UACX,SAAU,UACV,eAAgB,UAChB,SAAU,UACV,SAAU,SACV,WAAY,UACZ,YAAa,OACb,cAAe,UACf,UAAW,UACX,QAAS,UACT,QAAS,UACT,WAAY,UACZ,OAAQ,OACR,UAAW,OACX,KAAM,GACN,OAAQ,UACR,KAAM,SACR,wkBClRA,MAAAC,EAAAC,EAkBAC,EAAAC,EAAA,IACEH,EAAA,aAAAA,EAAA,YAAAA,EAAA,MAAA,EACEA,EAAA,YAAAA,EAAA,MAAA,EAEFD,EAAAC,EAAA,MAAA,GAAA,EAAqC,EAGvCI,EAAAD,EAAA,IACEH,EAAA,SAEAA,EAAA,cAAAA,EAAA,aAAAA,EAAA,MAAA,EACEA,EAAA,aAAAA,EAAA,MAAA,EAGFF,EAAAE,EAAA,MAAA,GAAAA,EAAA,OANqB,EAMuB,EAG9CK,EAAAF,EAAA,IACEH,EAAA,OAAA,MAAsB,EAGxBM,EAAAH,EAAA,KACE,CAAgB,MAAA,GACP,QAAA,GACE,MAAA,EACF,GAETH,EAAA,IAAA,CAAyB,8CApEhB,KAAAE,EAAA,MAfO,KAAAK,EAAA,KACH,OAAAA,EAAA,OACI,SAAAA,EAAA,SACI,sBAAAA,EAAA,mBACqB,IAAAA,EAAA,IAC/B,MAAAF,EAAA,MACU,MAAAE,EAAA,MACN,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,MAAA,OAAA,GACA,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,MAAA,OAAA,EACA,EAAA,gBAIHA,EAAA,MAAAG,IAAAC,EAAAC,EAAA,CAAA,IAAA,cAF0B,EAAA,iBACVF,EAAA,EAAAC,EAAAE,EAAAN,EAAA,IAAA,CAAA,EAAJ,CAAA,gDAER,CAAA"}