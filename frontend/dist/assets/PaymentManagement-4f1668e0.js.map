{"version":3,"file":"PaymentManagement-4f1668e0.js","sources":["../../src/views/accounting/PaymentManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"payment-management\">\r\n    <!-- Header with Statistics -->\r\n    <div class=\"header-section\">\r\n      <h2>付款管理</h2>\r\n      <div class=\"statistics-cards\">\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-label\">未付款</div>\r\n            <div class=\"stat-value\">{{ formatCurrency(summary.unpaid.amount) }}</div>\r\n            <div class=\"stat-count\">{{ summary.unpaid.count }} 筆</div>\r\n          </div>\r\n        </el-card>\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-label\">已付款</div>\r\n            <div class=\"stat-value\">{{ formatCurrency(summary.paid.amount) }}</div>\r\n            <div class=\"stat-count\">{{ summary.paid.count }} 筆</div>\r\n          </div>\r\n        </el-card>\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-label\">電匯付款</div>\r\n            <div class=\"stat-value\">{{ formatCurrency(summary.paid.by_method?.remittance || 0) }}</div>\r\n          </div>\r\n        </el-card>\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-label\">支票付款</div>\r\n            <div class=\"stat-value\">{{ formatCurrency(summary.paid.by_method?.check || 0) }}</div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filter Section -->\r\n    <el-card class=\"filter-section\">\r\n      <div class=\"filter-row\">\r\n        <el-select\r\n          v-model=\"filters.status\"\r\n          placeholder=\"付款狀態\"\r\n          @change=\"loadPurchaseOrders\"\r\n          clearable\r\n        >\r\n          <el-option label=\"未付款\" value=\"unpaid\" />\r\n          <el-option label=\"已付款\" value=\"paid\" />\r\n          <el-option label=\"全部\" value=\"all\" />\r\n        </el-select>\r\n\r\n        <el-select\r\n          v-model=\"filters.supplier_id\"\r\n          placeholder=\"選擇供應商\"\r\n          @change=\"loadPurchaseOrders\"\r\n          clearable\r\n          filterable\r\n        >\r\n          <el-option\r\n            v-for=\"supplier in suppliers\"\r\n            :key=\"supplier.supplier_id\"\r\n            :label=\"supplier.supplier_name_zh || supplier.supplier_name_en\"\r\n            :value=\"supplier.supplier_id\"\r\n          />\r\n        </el-select>\r\n\r\n        <el-button type=\"primary\" @click=\"handleBatchPayment\" :disabled=\"selectedOrders.length === 0\">\r\n          批次設定付款 ({{ selectedOrders.length }})\r\n        </el-button>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- Purchase Orders Table -->\r\n    <el-card class=\"table-section\">\r\n      <el-table\r\n        :data=\"purchaseOrders\"\r\n        v-loading=\"loading\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        :row-class-name=\"getRowClassName\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"50\" />\r\n\r\n        <el-table-column prop=\"purchase_order_no\" label=\"採購單號\" width=\"150\" />\r\n\r\n        <el-table-column label=\"供應商\" min-width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.supplier_info?.supplier_name_zh || row.supplier_info?.supplier_name_en || row.supplier_name }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"金額\" width=\"120\" align=\"right\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatCurrency(row.grand_total_int) }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"付款狀態\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getPaymentStatusType(row.billing_status)\">\r\n              {{ getPaymentStatusText(row.billing_status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"付款方式\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <span v-if=\"row.payment_method\">\r\n              {{ getPaymentMethodText(row.payment_method) }}\r\n            </span>\r\n            <span v-else>-</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"付款日期\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.payment_date || '-' }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"建立日期\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatDate(row.created_at) }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              v-if=\"row.billing_status !== 'paid'\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"handleSinglePayment(row)\"\r\n            >\r\n              設定付款\r\n            </el-button>\r\n            <el-button\r\n              v-else\r\n              type=\"info\"\r\n              size=\"small\"\r\n              @click=\"viewPaymentDetails(row)\"\r\n            >\r\n              查看詳情\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- Pagination -->\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.page\"\r\n          v-model:page-size=\"pagination.pageSize\"\r\n          :total=\"pagination.total\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"loadPurchaseOrders\"\r\n          @current-change=\"loadPurchaseOrders\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- Payment Dialog -->\r\n    <el-dialog\r\n      v-model=\"paymentDialog.visible\"\r\n      :title=\"paymentDialog.title\"\r\n      width=\"600px\"\r\n    >\r\n      <el-form ref=\"paymentFormRef\" :model=\"paymentForm\" label-width=\"120px\">\r\n        <el-form-item label=\"採購單號\">\r\n          <div class=\"po-list\">\r\n            <el-tag v-for=\"po in paymentDialog.orders\" :key=\"po\" class=\"po-tag\">\r\n              {{ po }}\r\n            </el-tag>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"總金額\">\r\n          <div class=\"total-amount\">\r\n            {{ formatCurrency(paymentDialog.totalAmount) }}\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"付款方式\" required>\r\n          <el-radio-group v-model=\"paymentForm.payment_method\">\r\n            <el-radio label=\"電匯\">電匯</el-radio>\r\n            <el-radio label=\"支票\">支票</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"付款備註\">\r\n          <el-input\r\n            v-model=\"paymentForm.payment_note\"\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            placeholder=\"請輸入付款備註（選填）\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <template #footer>\r\n        <el-button @click=\"paymentDialog.visible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmPayment\" :loading=\"submitting\">\r\n          確認付款\r\n        </el-button>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- Payment Details Dialog -->\r\n    <el-dialog\r\n      v-model=\"detailsDialog.visible\"\r\n      title=\"付款詳情\"\r\n      width=\"500px\"\r\n    >\r\n      <el-descriptions :column=\"1\" border>\r\n        <el-descriptions-item label=\"採購單號\">\r\n          {{ detailsDialog.order?.purchase_order_no }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"供應商\">\r\n          {{ detailsDialog.order?.supplier_info?.supplier_name_zh || detailsDialog.order?.supplier_name }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"金額\">\r\n          {{ formatCurrency(detailsDialog.order?.grand_total_int) }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"付款方式\">\r\n          {{ getPaymentMethodText(detailsDialog.order?.payment_method) }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"付款日期\">\r\n          {{ detailsDialog.order?.payment_date }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item label=\"付款備註\">\r\n          {{ detailsDialog.order?.payment_note || '無' }}\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n\r\n      <template #footer>\r\n        <el-button @click=\"detailsDialog.visible = false\">關閉</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted, computed } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport api from '@/api'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst authStore = useAuthStore()\r\n\r\n// Data\r\nconst loading = ref(false)\r\nconst submitting = ref(false)\r\nconst purchaseOrders = ref<any[]>([])\r\nconst selectedOrders = ref<any[]>([])\r\nconst suppliers = ref<any[]>([])\r\n\r\n// Summary statistics\r\nconst summary = reactive({\r\n  unpaid: { count: 0, amount: 0 },\r\n  paid: { count: 0, amount: 0, by_method: { remittance: 0, check: 0 } },\r\n  total: { count: 0, amount: 0 }\r\n})\r\n\r\n// Filters\r\nconst filters = reactive({\r\n  status: 'unpaid',\r\n  supplier_id: ''\r\n})\r\n\r\n// Pagination\r\nconst pagination = reactive({\r\n  page: 1,\r\n  pageSize: 20,\r\n  total: 0\r\n})\r\n\r\n// Payment Dialog\r\nconst paymentDialog = reactive({\r\n  visible: false,\r\n  title: '',\r\n  orders: [] as string[],\r\n  totalAmount: 0\r\n})\r\n\r\nconst paymentForm = reactive({\r\n  payment_method: '電匯',\r\n  payment_note: ''\r\n})\r\n\r\n// Details Dialog\r\nconst detailsDialog = reactive({\r\n  visible: false,\r\n  order: null as any\r\n})\r\n\r\n// Methods\r\nconst loadPurchaseOrders = async () => {\r\n  loading.value = true\r\n  try {\r\n    const params: any = {\r\n      page: pagination.page,\r\n      page_size: pagination.pageSize,\r\n      status: filters.status\r\n    }\r\n\r\n    if (filters.supplier_id) {\r\n      params.supplier_id = filters.supplier_id\r\n    }\r\n\r\n    const response = await api.get('/accounting/payment-management/list', { params })\r\n\r\n    // Handle both direct data and wrapped response formats\r\n    if (response.data) {\r\n      if (response.data.success === true && response.data.data) {\r\n        // Wrapped format\r\n        purchaseOrders.value = response.data.data.items || []\r\n        pagination.total = response.data.data.pagination?.total || 0\r\n      } else if (response.data.items !== undefined) {\r\n        // Direct format\r\n        purchaseOrders.value = response.data.items || []\r\n        pagination.total = response.data.pagination?.total || 0\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Load error:', error)\r\n    ElMessage.error(error.response?.data?.error?.message || '載入採購單失敗')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst loadSummary = async () => {\r\n  try {\r\n    const response = await api.get('/accounting/payment-management/summary')\r\n\r\n    // Handle both direct data and wrapped response formats\r\n    if (response.data) {\r\n      if (response.data.success === true && response.data.data) {\r\n        // Wrapped format\r\n        Object.assign(summary, response.data.data)\r\n      } else if (response.data.unpaid !== undefined || response.data.paid !== undefined) {\r\n        // Direct format\r\n        Object.assign(summary, response.data)\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Summary error:', error)\r\n  }\r\n}\r\n\r\nconst loadSuppliers = async () => {\r\n  try {\r\n    const response = await api.get('/suppliers')\r\n\r\n    // Handle both direct data and wrapped response formats\r\n    if (response.data) {\r\n      if (response.data.success === true && response.data.data) {\r\n        // Wrapped format\r\n        suppliers.value = response.data.data\r\n      } else if (Array.isArray(response.data)) {\r\n        // Direct format - array of suppliers\r\n        suppliers.value = response.data\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Suppliers error:', error)\r\n  }\r\n}\r\n\r\nconst handleSelectionChange = (val: any[]) => {\r\n  // Only allow selection of unpaid orders\r\n  selectedOrders.value = val.filter(order => order.billing_status !== 'paid')\r\n}\r\n\r\nconst handleSinglePayment = (order: any) => {\r\n  paymentDialog.title = '設定付款'\r\n  paymentDialog.orders = [order.purchase_order_no]\r\n  paymentDialog.totalAmount = order.grand_total_int\r\n  paymentDialog.visible = true\r\n\r\n  // Reset form\r\n  paymentForm.payment_method = '電匯'\r\n  paymentForm.payment_note = ''\r\n}\r\n\r\nconst handleBatchPayment = () => {\r\n  if (selectedOrders.value.length === 0) {\r\n    ElMessage.warning('請選擇要付款的採購單')\r\n    return\r\n  }\r\n\r\n  const unpaidOrders = selectedOrders.value.filter(order => order.billing_status !== 'paid')\r\n  if (unpaidOrders.length === 0) {\r\n    ElMessage.warning('所選採購單都已付款')\r\n    return\r\n  }\r\n\r\n  paymentDialog.title = `批次設定付款 (${unpaidOrders.length} 筆)`\r\n  paymentDialog.orders = unpaidOrders.map(o => o.purchase_order_no)\r\n  paymentDialog.totalAmount = unpaidOrders.reduce((sum, o) => sum + o.grand_total_int, 0)\r\n  paymentDialog.visible = true\r\n\r\n  // Reset form\r\n  paymentForm.payment_method = '電匯'\r\n  paymentForm.payment_note = ''\r\n}\r\n\r\nconst confirmPayment = async () => {\r\n  if (!paymentForm.payment_method) {\r\n    ElMessage.warning('請選擇付款方式')\r\n    return\r\n  }\r\n\r\n  try {\r\n    await ElMessageBox.confirm(\r\n      `確定要將 ${paymentDialog.orders.length} 筆採購單設定為已付款嗎？`,\r\n      '確認付款',\r\n      {\r\n        confirmButtonText: '確定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }\r\n    )\r\n\r\n    submitting.value = true\r\n\r\n    const response = await api.post('/accounting/payment-management/update-payment', {\r\n      purchase_order_nos: paymentDialog.orders,\r\n      payment_method: paymentForm.payment_method,\r\n      payment_note: paymentForm.payment_note\r\n    })\r\n\r\n    // Handle both direct data and wrapped response formats\r\n    let updateCount = 0\r\n    if (response.data) {\r\n      if (response.data.success === true && response.data.data) {\r\n        // Wrapped format\r\n        updateCount = response.data.data.updated_count || 0\r\n      } else if (response.data.updated_count !== undefined) {\r\n        // Direct format\r\n        updateCount = response.data.updated_count || 0\r\n      }\r\n    }\r\n\r\n    if (updateCount > 0) {\r\n      ElMessage.success(`成功設定 ${updateCount} 筆採購單為已付款`)\r\n      paymentDialog.visible = false\r\n\r\n      // Reload data\r\n      await Promise.all([loadPurchaseOrders(), loadSummary()])\r\n    } else {\r\n      ElMessage.warning('未更新任何採購單')\r\n    }\r\n  } catch (error: any) {\r\n    if (error !== 'cancel') {\r\n      console.error('Payment error:', error)\r\n      ElMessage.error(error.response?.data?.error?.message || '付款設定失敗')\r\n    }\r\n  } finally {\r\n    submitting.value = false\r\n  }\r\n}\r\n\r\nconst viewPaymentDetails = (order: any) => {\r\n  detailsDialog.order = order\r\n  detailsDialog.visible = true\r\n}\r\n\r\nconst getRowClassName = ({ row }: { row: any }) => {\r\n  return row.billing_status === 'paid' ? 'paid-row' : ''\r\n}\r\n\r\n// Helper functions\r\nconst formatCurrency = (amount: number) => {\r\n  if (!amount) return 'NT$0'\r\n  return `NT$${amount.toLocaleString()}`\r\n}\r\n\r\nconst formatDate = (dateStr: string) => {\r\n  if (!dateStr) return '-'\r\n  return dateStr.split('T')[0]\r\n}\r\n\r\nconst getPaymentStatusType = (status: string) => {\r\n  const types: Record<string, string> = {\r\n    'none': 'warning',\r\n    'pending': 'info',\r\n    'billed': 'primary',\r\n    'paid': 'success'\r\n  }\r\n  return types[status] || 'info'\r\n}\r\n\r\nconst getPaymentStatusText = (status: string) => {\r\n  const texts: Record<string, string> = {\r\n    'none': '未付款',\r\n    'pending': '待付款',\r\n    'billed': '已請款',\r\n    'paid': '已付款'\r\n  }\r\n  return texts[status] || status\r\n}\r\n\r\nconst getPaymentMethodText = (method: string) => {\r\n  const texts: Record<string, string> = {\r\n    'remittance': '電匯',\r\n    'check': '支票',\r\n    'cash': '現金'\r\n  }\r\n  return texts[method] || method\r\n}\r\n\r\n// Lifecycle\r\nonMounted(() => {\r\n  Promise.all([\r\n    loadPurchaseOrders(),\r\n    loadSummary(),\r\n    loadSuppliers()\r\n  ])\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.payment-management {\r\n  padding: 20px;\r\n\r\n  .header-section {\r\n    margin-bottom: 20px;\r\n\r\n    h2 {\r\n      font-size: 24px;\r\n      margin-bottom: 16px;\r\n    }\r\n\r\n    .statistics-cards {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n      gap: 16px;\r\n\r\n      .stat-card {\r\n        .stat-content {\r\n          text-align: center;\r\n\r\n          .stat-label {\r\n            font-size: 14px;\r\n            color: #909399;\r\n            margin-bottom: 8px;\r\n          }\r\n\r\n          .stat-value {\r\n            font-size: 24px;\r\n            font-weight: bold;\r\n            color: #303133;\r\n            margin-bottom: 4px;\r\n          }\r\n\r\n          .stat-count {\r\n            font-size: 12px;\r\n            color: #606266;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .filter-section {\r\n    margin-bottom: 20px;\r\n\r\n    .filter-row {\r\n      display: flex;\r\n      gap: 12px;\r\n      align-items: center;\r\n\r\n      .el-select {\r\n        width: 200px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .table-section {\r\n    .pagination-container {\r\n      margin-top: 20px;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n    }\r\n\r\n    :deep(.paid-row) {\r\n      background-color: #f0f9ff;\r\n    }\r\n  }\r\n\r\n  .po-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 8px;\r\n\r\n    .po-tag {\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  .total-amount {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #409eff;\r\n  }\r\n}\r\n</style>"],"names":["useAuthStore","loading","ref","submitting","purchaseOrders","selectedOrders","suppliers","summary","reactive","filters","pagination","paymentDialog","paymentForm","detailsDialog","loadPurchaseOrders","params","response","api","_a","_b","error","ElMessage","_e","_d","_c","loadSummary","loadSuppliers","handleSelectionChange","val","order","handleSinglePayment","handleBatchPayment","unpaidOrders","o","sum","confirmPayment","ElMessageBox","updateCount","viewPaymentDetails","getRowClassName","row","formatCurrency","amount","formatDate","dateStr","getPaymentStatusType","status","getPaymentStatusText","getPaymentMethodText","method","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_createVNode","_component_el_card","_withCtx","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_component_el_select","$event","_component_el_option","_Fragment","_renderList","supplier","_createTextVNode","_withDirectives","_createBlock","_component_el_table","_component_el_table_column","_component_el_tag","_hoisted_15","_hoisted_16","_component_el_button","_component_el_pagination","_component_el_form","_component_el_form_item","_hoisted_18","po","_hoisted_19","_component_el_radio_group","_component_el_radio","_component_el_input","_component_el_descriptions","_component_el_descriptions_item"],"mappings":"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"}