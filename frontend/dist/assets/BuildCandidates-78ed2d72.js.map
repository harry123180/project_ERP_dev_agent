{"version":3,"file":"BuildCandidates-78ed2d72.js","sources":["../../src/views/purchase-orders/BuildCandidates.vue"],"sourcesContent":["<template>\r\n  <div class=\"build-candidates\">\r\n    <PageHeader\r\n      title=\"建立採購單\"\r\n      subtitle=\"從已核准請購項目建立採購單\"\r\n      :show-back=\"true\"\r\n      :show-refresh=\"true\"\r\n      @back=\"handleBack\"\r\n      @refresh=\"handleRefresh\"\r\n    />\r\n\r\n    <div v-if=\"loading\" class=\"loading-container\">\r\n      <el-skeleton :rows=\"8\" animated />\r\n    </div>\r\n\r\n    <div v-else-if=\"candidateGroups.length === 0\" class=\"empty-state\">\r\n      <el-empty description=\"暫無可用的請購項目\">\r\n        <template #image>\r\n          <el-icon size=\"60\"><DocumentCopy /></el-icon>\r\n        </template>\r\n        <el-button type=\"primary\" @click=\"handleBack\">返回列表</el-button>\r\n      </el-empty>\r\n    </div>\r\n\r\n    <div v-else class=\"candidates-content\">\r\n      <!-- 供應商選擇器 -->\r\n      <div class=\"supplier-selector\">\r\n        <el-select \r\n          v-model=\"selectedSupplierId\" \r\n          placeholder=\"選擇供應商建立採購單（可輸入供應商名稱搜尋）\"\r\n          size=\"large\"\r\n          class=\"supplier-select\"\r\n          filterable\r\n          remote\r\n          :remote-method=\"handleSupplierSearch\"\r\n          :loading=\"supplierSearchLoading\"\r\n          clearable\r\n          @change=\"handleSupplierChange\"\r\n          @clear=\"handleSupplierClear\"\r\n        >\r\n          <el-option\r\n            v-for=\"group in filteredCandidateGroups\"\r\n            :key=\"group.supplier_id\"\r\n            :value=\"group.supplier_id\"\r\n            :label=\"`${group.supplier?.supplier_name_zh || group.supplier_id || '未知供應商'} (${group.items.length}項)`\"\r\n          >\r\n            <div class=\"supplier-option\">\r\n              <span class=\"supplier-name\" :class=\"{ 'urgent-text': group.has_urgent_items }\">\r\n                <el-icon v-if=\"group.has_urgent_items\" color=\"#cf1322\"><Warning /></el-icon>\r\n                {{ group.supplier?.supplier_name_zh || group.supplier_id || '未知供應商' }}\r\n                <el-tag v-if=\"group.has_urgent_items\" type=\"danger\" size=\"small\" class=\"urgent-tag\">加急</el-tag>\r\n              </span>\r\n              <span class=\"supplier-meta\">\r\n                {{ group.items.length }}項 · {{ formatMoney(calculateGroupTotal(group.items)) }}\r\n              </span>\r\n            </div>\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n\r\n      <!-- 提示選擇供應商 -->\r\n      <div v-if=\"!currentSupplierGroup\" class=\"no-supplier-selected\">\r\n        <el-empty description=\"請選擇供應商以查看可採購項目\">\r\n          <template #image>\r\n            <el-icon size=\"60\"><Select /></el-icon>\r\n          </template>\r\n          <div class=\"empty-hint\">\r\n            <p>請從上方下拉選單中選擇一個供應商</p>\r\n            <p class=\"hint-secondary\">選擇後即可查看該供應商的可採購項目</p>\r\n          </div>\r\n        </el-empty>\r\n      </div>\r\n\r\n      <!-- 左右分欄編輯界面 -->\r\n      <div v-else class=\"po-builder\">\r\n        <!-- 左側 40%：待採購項目清單 -->\r\n        <div class=\"left-panel\">\r\n          <div class=\"panel-header\">\r\n            <h3>待採購項目</h3>\r\n            <div class=\"panel-actions\">\r\n              <el-button size=\"small\" @click=\"selectAll\" :disabled=\"allSelected\">全選</el-button>\r\n              <el-button size=\"small\" @click=\"clearSelection\" :disabled=\"!hasSelection\">清空</el-button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"items-list\">\r\n            <el-checkbox-group v-model=\"selectedItems\">\r\n              <div \r\n                v-for=\"item in currentSupplierGroup.items\" \r\n                :key=\"item.detail_id\"\r\n                class=\"item-row\"\r\n                :class=\"{ selected: selectedItems.includes(item.detail_id) }\"\r\n              >\r\n                <el-checkbox :label=\"item.detail_id\" class=\"item-checkbox\">\r\n                  <div class=\"item-content\">\r\n                    <div class=\"item-header\">\r\n                      <span class=\"item-name\">{{ item.item_name }}</span>\r\n                      <span class=\"item-price\">{{ formatMoney(item.unit_price) }}</span>\r\n                    </div>\r\n                    <div class=\"item-details\">\r\n                      <span class=\"item-spec\">{{ item.item_specification }}</span>\r\n                      <span class=\"item-qty\">{{ item.item_quantity }} {{ item.item_unit }}</span>\r\n                    </div>\r\n                    <div class=\"item-meta\">\r\n                      <span class=\"source-no\">{{ item.source_request_order_no }}</span>\r\n                      <span class=\"item-subtotal\">小計: {{ formatMoney(item.item_quantity * item.unit_price) }}</span>\r\n                    </div>\r\n                  </div>\r\n                </el-checkbox>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 右側 60%：採購單即時預覽 -->\r\n        <div class=\"right-panel\">\r\n          <div class=\"panel-header\">\r\n            <h3>採購單預覽</h3>\r\n            <div class=\"panel-actions\">\r\n              <el-button \r\n                type=\"primary\" \r\n                @click=\"createPurchaseOrder\"\r\n                :disabled=\"!hasSelection\"\r\n                :loading=\"creating\"\r\n              >\r\n                建立採購單\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"po-preview\">\r\n            <div v-if=\"!hasSelection\" class=\"preview-empty\">\r\n              <el-empty description=\"請選擇要採購的項目\" />\r\n            </div>\r\n\r\n            <div v-else class=\"preview-content\">\r\n              <!-- 供應商資訊 -->\r\n              <el-card class=\"supplier-info\" shadow=\"never\">\r\n                <h4>供應商資訊</h4>\r\n                <div class=\"supplier-details\">\r\n                  <div class=\"detail-row\">\r\n                    <label>供應商名稱：</label>\r\n                    <span>{{ currentSupplierGroup.supplier?.supplier_name_zh || currentSupplierGroup.supplier_id || '未知供應商' }}</span>\r\n                  </div>\r\n                  <div class=\"detail-row\">\r\n                    <label>聯絡電話：</label>\r\n                    <span>{{ currentSupplierGroup.supplier?.supplier_phone || '-' }}</span>\r\n                  </div>\r\n                  <div class=\"detail-row\">\r\n                    <label>聯絡人：</label>\r\n                    <span>{{ currentSupplierGroup.supplier?.supplier_contact_person || '-' }}</span>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n\r\n              <!-- 採購項目清單 -->\r\n              <el-card class=\"items-preview\" shadow=\"never\">\r\n                <h4>採購項目 ({{ selectedItemsDetails.length }}項)</h4>\r\n                <el-table :data=\"selectedItemsDetails\" border size=\"small\">\r\n                  <el-table-column type=\"index\" label=\"序號\" width=\"50\" align=\"center\" />\r\n                  <el-table-column label=\"項目名稱\" prop=\"item_name\" min-width=\"120\" show-overflow-tooltip />\r\n                  <el-table-column label=\"規格\" prop=\"item_specification\" width=\"100\" show-overflow-tooltip />\r\n                  <el-table-column label=\"數量\" prop=\"item_quantity\" width=\"60\" align=\"center\" />\r\n                  <el-table-column label=\"單位\" prop=\"item_unit\" width=\"60\" align=\"center\" />\r\n                  <el-table-column label=\"單價\" width=\"90\" align=\"right\">\r\n                    <template #default=\"{ row }\">\r\n                      <span class=\"money\">{{ formatMoney(row.unit_price) }}</span>\r\n                    </template>\r\n                  </el-table-column>\r\n                  <el-table-column label=\"小計\" width=\"100\" align=\"right\">\r\n                    <template #default=\"{ row }\">\r\n                      <span class=\"money\">{{ formatMoney(calculateSubtotal(row)) }}</span>\r\n                    </template>\r\n                  </el-table-column>\r\n                </el-table>\r\n              </el-card>\r\n\r\n              <!-- 金額計算 -->\r\n              <el-card class=\"amount-summary\" shadow=\"never\">\r\n                <h4>金額計算</h4>\r\n                <div class=\"amount-details\">\r\n                  <div class=\"amount-row\">\r\n                    <label>項目總計：</label>\r\n                    <span class=\"money\">{{ formatMoney(subtotalAmount) }}</span>\r\n                  </div>\r\n                  <div class=\"amount-row\">\r\n                    <label>稅額 (5%)：</label>\r\n                    <span class=\"money\">{{ formatTax(taxAmount) }}</span>\r\n                  </div>\r\n                  <div class=\"amount-row total\">\r\n                    <label>總金額：</label>\r\n                    <span class=\"money total-amount\">{{ formatMoney(totalAmount) }}</span>\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { DocumentCopy, Select, Warning } from '@element-plus/icons-vue'\r\nimport { PageHeader } from '@/components'\r\nimport { procurementApi } from '@/api/procurement'\r\nimport { suppliersApi } from '@/api/suppliers'\r\nimport type { BuildCandidate } from '@/api/procurement'\r\n\r\nconst router = useRouter()\r\n\r\n// State\r\nconst loading = ref(false)\r\nconst creating = ref(false)\r\nconst candidateGroups = ref<BuildCandidate[]>([])\r\nconst currentSupplierGroup = ref<BuildCandidate | null>(null)\r\nconst selectedSupplierId = ref<string | null>(null)\r\nconst selectedItems = ref<number[]>([])\r\nconst supplierSearchLoading = ref(false)\r\nconst supplierSearchQuery = ref('')\r\n\r\n// Computed\r\nconst validCandidateGroups = computed(() => {\r\n  return candidateGroups.value.filter(group => \r\n    group.supplier_id && group.supplier_id !== 'null' && group.supplier_id !== null\r\n  )\r\n})\r\n\r\n// Fuzzy search function\r\nconst fuzzyMatch = (text: string, search: string): boolean => {\r\n  if (!search) return true\r\n  \r\n  const searchLower = search.toLowerCase()\r\n  const textLower = text.toLowerCase()\r\n  \r\n  // Direct substring match\r\n  if (textLower.includes(searchLower)) return true\r\n  \r\n  // Fuzzy match - allows for some typos and character variations\r\n  let searchIndex = 0\r\n  for (let i = 0; i < textLower.length && searchIndex < searchLower.length; i++) {\r\n    if (textLower[i] === searchLower[searchIndex]) {\r\n      searchIndex++\r\n    }\r\n  }\r\n  \r\n  return searchIndex === searchLower.length\r\n}\r\n\r\nconst filteredCandidateGroups = computed(() => {\r\n  if (!supplierSearchQuery.value) {\r\n    return validCandidateGroups.value\r\n  }\r\n  \r\n  return validCandidateGroups.value.filter(group => {\r\n    const supplierName = group.supplier?.supplier_name_zh || group.supplier_id || ''\r\n    const supplierNameEn = group.supplier?.supplier_name_en || ''\r\n    const supplierId = group.supplier_id || ''\r\n    \r\n    return fuzzyMatch(supplierName, supplierSearchQuery.value) ||\r\n           fuzzyMatch(supplierNameEn, supplierSearchQuery.value) ||\r\n           fuzzyMatch(supplierId, supplierSearchQuery.value)\r\n  })\r\n})\r\n\r\nconst hasSelection = computed(() => selectedItems.value.length > 0)\r\n\r\nconst allSelected = computed(() => {\r\n  if (!currentSupplierGroup.value) return false\r\n  return selectedItems.value.length === currentSupplierGroup.value.items.length\r\n})\r\n\r\nconst selectedItemsDetails = computed(() => {\r\n  if (!currentSupplierGroup.value) return []\r\n  return currentSupplierGroup.value.items.filter(item => \r\n    selectedItems.value.includes(item.detail_id)\r\n  )\r\n})\r\n\r\nconst subtotalAmount = computed(() => {\r\n  return selectedItemsDetails.value.reduce((total, item) => \r\n    total + calculateSubtotal(item), 0\r\n  )\r\n})\r\n\r\nconst taxAmount = computed(() => {\r\n  return subtotalAmount.value * 0.05\r\n})\r\n\r\nconst totalAmount = computed(() => {\r\n  return Math.round(subtotalAmount.value + taxAmount.value)\r\n})\r\n\r\n// Methods\r\nconst formatMoney = (amount: number) => {\r\n  return new Intl.NumberFormat('zh-TW', {\r\n    style: 'currency',\r\n    currency: 'TWD',\r\n    minimumFractionDigits: 0\r\n  }).format(Math.round(amount))\r\n}\r\n\r\nconst formatTax = (amount: number) => {\r\n  return new Intl.NumberFormat('zh-TW', {\r\n    style: 'currency',\r\n    currency: 'TWD',\r\n    minimumFractionDigits: 1,\r\n    maximumFractionDigits: 1\r\n  }).format(amount)\r\n}\r\n\r\nconst calculateSubtotal = (item: any) => {\r\n  return Math.round(item.item_quantity * item.unit_price)\r\n}\r\n\r\nconst calculateGroupTotal = (items: any[]) => {\r\n  return items.reduce((total, item) => total + calculateSubtotal(item), 0)\r\n}\r\n\r\nconst handleBack = () => {\r\n  router.push('/purchase-orders')\r\n}\r\n\r\nconst handleRefresh = async () => {\r\n  await loadCandidates()\r\n}\r\n\r\nconst handleSupplierChange = (supplierId: string | null) => {\r\n  if (supplierId) {\r\n    currentSupplierGroup.value = candidateGroups.value.find(group => group.supplier_id === supplierId) || null\r\n  } else {\r\n    currentSupplierGroup.value = null\r\n  }\r\n  selectedItems.value = []\r\n}\r\n\r\nconst handleSupplierSearch = (query: string) => {\r\n  supplierSearchQuery.value = query\r\n}\r\n\r\nconst handleSupplierClear = () => {\r\n  supplierSearchQuery.value = ''\r\n  selectedSupplierId.value = null\r\n  currentSupplierGroup.value = null\r\n  selectedItems.value = []\r\n}\r\n\r\nconst selectAll = () => {\r\n  if (currentSupplierGroup.value) {\r\n    selectedItems.value = currentSupplierGroup.value.items.map(item => item.detail_id)\r\n  }\r\n}\r\n\r\nconst clearSelection = () => {\r\n  selectedItems.value = []\r\n}\r\n\r\nconst loadCandidates = async () => {\r\n  try {\r\n    loading.value = true\r\n    const response = await procurementApi.getBuildCandidates()\r\n    const candidatesArray = Array.isArray(response) ? response : Object.values(response.candidates || response.data || [])\r\n    candidateGroups.value = candidatesArray.filter(group => group && group.items && group.items.length > 0)\r\n    \r\n    // 不再自動選擇第一個供應商，讓用戶主動選擇\r\n    // 清空當前選擇以確保用戶重新選擇\r\n    currentSupplierGroup.value = null\r\n    selectedSupplierId.value = null\r\n  } catch (error) {\r\n    console.error('Failed to load candidates:', error)\r\n    ElMessage.error('載入採購候選項目失敗')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst createPurchaseOrder = async () => {\r\n  if (!currentSupplierGroup.value || !hasSelection.value) return\r\n  \r\n  // Validate supplier_id before proceeding\r\n  if (!currentSupplierGroup.value.supplier_id || currentSupplierGroup.value.supplier_id === 'null') {\r\n    ElMessage.error('無法為此供應商創建採購單：供應商信息不完整')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    await ElMessageBox.confirm(\r\n      `確定要為 ${currentSupplierGroup.value.supplier?.supplier_name_zh || currentSupplierGroup.value.supplier_id || '未知供應商'} 建立採購單嗎？\\n將包含 ${selectedItems.value.length} 個項目，總金額 ${formatMoney(totalAmount.value)}`,\r\n      '建立採購單確認',\r\n      {\r\n        confirmButtonText: '確定建立',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }\r\n    )\r\n\r\n    creating.value = true\r\n    \r\n    const createData = {\r\n      supplier_id: currentSupplierGroup.value.supplier_id,\r\n      lines: selectedItemsDetails.value.map(item => ({\r\n        detail_id: item.detail_id,\r\n        quantity: item.item_quantity,\r\n        unit_price: item.unit_price\r\n      }))\r\n    }\r\n\r\n    const newPO = await procurementApi.createPO(createData)\r\n    \r\n    ElMessage.success(`採購單建立成功！`)\r\n    \r\n    // Refresh candidates to remove items that were used\r\n    await loadCandidates()\r\n    \r\n    // Clear selection\r\n    selectedItems.value = []\r\n    \r\n    // Always navigate back to the purchase orders list after creation\r\n    router.push('/purchase-orders')\r\n    \r\n  } catch (error) {\r\n    if (error !== 'cancel') {\r\n      console.error('Create PO failed:', error)\r\n      \r\n      // Handle specific error types\r\n      if (error.response?.status === 400) {\r\n        const errorData = error.response.data?.error\r\n        const errorCode = errorData?.code\r\n        const errorMessage = errorData?.message\r\n        \r\n        if (errorCode === 'SUPPLIER_NOT_FOUND') {\r\n          ElMessage.error('供應商不存在，無法建立採購單')\r\n        } else if (errorCode === 'INVALID_REQUISITION_ITEM') {\r\n          ElMessage.error('選擇的項目不可用或已被使用')\r\n        } else {\r\n          ElMessage.error(`建立採購單失敗：${errorMessage || '未知錯誤'}`)\r\n        }\r\n      } else if (error.response?.status === 500) {\r\n        ElMessage.error('系統內部錯誤，請聯繫管理員')\r\n      } else {\r\n        ElMessage.error('建立採購單失敗')\r\n      }\r\n    }\r\n  } finally {\r\n    creating.value = false\r\n  }\r\n}\r\n\r\n// Lifecycle\r\nonMounted(() => {\r\n  loadCandidates()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.build-candidates {\r\n  .loading-container {\r\n    background: white;\r\n    padding: 24px;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  .empty-state {\r\n    background: white;\r\n    padding: 40px;\r\n    border-radius: 6px;\r\n    text-align: center;\r\n  }\r\n\r\n  .candidates-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n  }\r\n\r\n  .no-supplier-selected {\r\n    background: white;\r\n    padding: 60px 40px;\r\n    border-radius: 6px;\r\n    border: 1px solid #e4e7ed;\r\n    text-align: center;\r\n\r\n    .empty-hint {\r\n      margin-top: 16px;\r\n\r\n      p {\r\n        margin: 8px 0;\r\n        color: #606266;\r\n        font-size: 14px;\r\n\r\n        &.hint-secondary {\r\n          color: #909399;\r\n          font-size: 13px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .supplier-selector {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 6px;\r\n    border: 1px solid #e4e7ed;\r\n\r\n    .supplier-select {\r\n      width: 100%;\r\n      max-width: 500px;\r\n    }\r\n\r\n    .supplier-option {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .supplier-name {\r\n        font-weight: 600;\r\n        color: #303133;\r\n      }\r\n\r\n      .supplier-meta {\r\n        font-size: 12px;\r\n        color: #909399;\r\n      }\r\n    }\r\n  }\r\n\r\n  .po-builder {\r\n    display: flex;\r\n    gap: 20px;\r\n    height: calc(100vh - 300px);\r\n    min-height: 600px;\r\n\r\n    .left-panel {\r\n      width: 40%;\r\n      background: white;\r\n      border-radius: 6px;\r\n      border: 1px solid #e4e7ed;\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      .panel-header {\r\n        padding: 16px 20px;\r\n        border-bottom: 1px solid #e4e7ed;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        h3 {\r\n          margin: 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: #303133;\r\n        }\r\n\r\n        .panel-actions {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n      }\r\n\r\n      .items-list {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n        padding: 16px 20px;\r\n\r\n        .item-row {\r\n          border: 1px solid #e4e7ed;\r\n          border-radius: 4px;\r\n          margin-bottom: 12px;\r\n          padding: 12px;\r\n          transition: all 0.2s;\r\n\r\n          &:hover {\r\n            border-color: #409eff;\r\n            box-shadow: 0 2px 4px rgba(64, 158, 255, 0.1);\r\n          }\r\n\r\n          &.selected {\r\n            border-color: #409eff;\r\n            background-color: #f0f9ff;\r\n          }\r\n\r\n          .item-checkbox {\r\n            width: 100%;\r\n\r\n            :deep(.el-checkbox__label) {\r\n              width: 100%;\r\n              padding-left: 0;\r\n            }\r\n          }\r\n\r\n          .item-content {\r\n            .item-header {\r\n              display: flex;\r\n              justify-content: space-between;\r\n              align-items: center;\r\n              margin-bottom: 8px;\r\n\r\n              .item-name {\r\n                font-weight: 600;\r\n                color: #303133;\r\n                flex: 1;\r\n                margin-right: 12px;\r\n              }\r\n\r\n              .item-price {\r\n                font-weight: 600;\r\n                color: #409eff;\r\n                font-family: Monaco, 'Courier New', monospace;\r\n              }\r\n            }\r\n\r\n            .item-details {\r\n              display: flex;\r\n              justify-content: space-between;\r\n              align-items: center;\r\n              margin-bottom: 8px;\r\n              font-size: 13px;\r\n              color: #606266;\r\n\r\n              .item-spec {\r\n                flex: 1;\r\n                margin-right: 12px;\r\n              }\r\n\r\n              .item-qty {\r\n                font-weight: 500;\r\n              }\r\n            }\r\n\r\n            .item-meta {\r\n              display: flex;\r\n              justify-content: space-between;\r\n              align-items: center;\r\n              font-size: 12px;\r\n              color: #909399;\r\n\r\n              .source-no {\r\n                flex: 1;\r\n                margin-right: 12px;\r\n              }\r\n\r\n              .item-subtotal {\r\n                font-weight: 500;\r\n                color: #67c23a;\r\n                font-family: Monaco, 'Courier New', monospace;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .right-panel {\r\n      width: 60%;\r\n      background: white;\r\n      border-radius: 6px;\r\n      border: 1px solid #e4e7ed;\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      .panel-header {\r\n        padding: 16px 20px;\r\n        border-bottom: 1px solid #e4e7ed;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        h3 {\r\n          margin: 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: #303133;\r\n        }\r\n      }\r\n\r\n      .po-preview {\r\n        flex: 1;\r\n        overflow-y: auto;\r\n        padding: 20px;\r\n\r\n        .preview-empty {\r\n          height: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n\r\n        .preview-content {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n\r\n          .supplier-info,\r\n          .items-preview,\r\n          .amount-summary {\r\n            border: 1px solid #e4e7ed;\r\n\r\n            h4 {\r\n              margin: 0 0 16px 0;\r\n              font-size: 14px;\r\n              font-weight: 600;\r\n              color: #303133;\r\n            }\r\n\r\n            .supplier-details {\r\n              .detail-row {\r\n                display: flex;\r\n                margin-bottom: 8px;\r\n\r\n                label {\r\n                  width: 100px;\r\n                  color: #606266;\r\n                  font-weight: 500;\r\n                }\r\n\r\n                span {\r\n                  color: #303133;\r\n                }\r\n              }\r\n            }\r\n\r\n            .amount-details {\r\n              .amount-row {\r\n                display: flex;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                margin-bottom: 8px;\r\n                \r\n                label {\r\n                  color: #606266;\r\n                  font-weight: 500;\r\n                }\r\n\r\n                .money {\r\n                  font-family: Monaco, 'Courier New', monospace;\r\n                  font-weight: 600;\r\n                  color: #409eff;\r\n                }\r\n\r\n                &.total {\r\n                  padding-top: 8px;\r\n                  border-top: 1px solid #e4e7ed;\r\n                  margin-top: 8px;\r\n\r\n                  label {\r\n                    font-size: 16px;\r\n                    font-weight: 600;\r\n                    color: #303133;\r\n                  }\r\n\r\n                  .total-amount {\r\n                    font-size: 18px;\r\n                    color: #67c23a;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .money {\r\n    font-family: Monaco, 'Courier New', monospace;\r\n    font-weight: 500;\r\n    color: #409eff;\r\n  }\r\n\r\n  /* 加急供應商樣式 */\r\n  .urgent-supplier {\r\n    background-color: #fff2f0 !important;\r\n\r\n    &:hover {\r\n      background-color: #ffe7e6 !important;\r\n    }\r\n  }\r\n\r\n  .urgent-text {\r\n    color: #cf1322 !important;\r\n    font-weight: 600;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n  }\r\n\r\n  .urgent-tag {\r\n    margin-left: 8px;\r\n  }\r\n\r\n  /* 加急項目樣式 */\r\n  .urgent-item {\r\n    background-color: #fff2f0 !important;\r\n    border-color: #ff7875 !important;\r\n\r\n    &:hover {\r\n      border-color: #cf1322 !important;\r\n      box-shadow: 0 2px 4px rgba(207, 19, 34, 0.15) !important;\r\n    }\r\n\r\n    &.selected {\r\n      background-color: #ffe7e6 !important;\r\n      border-color: #cf1322 !important;\r\n    }\r\n  }\r\n\r\n  .urgent-item-tag {\r\n    margin: 0 8px;\r\n  }\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 1200px) {\r\n  .build-candidates {\r\n    .po-builder {\r\n      flex-direction: column;\r\n      height: auto;\r\n      min-height: auto;\r\n\r\n      .left-panel,\r\n      .right-panel {\r\n        width: 100%;\r\n      }\r\n\r\n      .left-panel {\r\n        .items-list {\r\n          max-height: 400px;\r\n        }\r\n      }\r\n\r\n      .right-panel {\r\n        .po-preview {\r\n          max-height: 500px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .build-candidates {\r\n    .po-builder {\r\n      .left-panel,\r\n      .right-panel {\r\n        .panel-header {\r\n          padding: 12px 16px;\r\n\r\n          h3 {\r\n            font-size: 14px;\r\n          }\r\n\r\n          .panel-actions {\r\n            gap: 4px;\r\n\r\n            .el-button {\r\n              padding: 6px 12px;\r\n              font-size: 12px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .left-panel {\r\n        .items-list {\r\n          padding: 12px 16px;\r\n\r\n          .item-row {\r\n            padding: 10px;\r\n\r\n            .item-content {\r\n              .item-header {\r\n                flex-direction: column;\r\n                align-items: flex-start;\r\n                gap: 4px;\r\n\r\n                .item-name {\r\n                  margin-right: 0;\r\n                }\r\n              }\r\n\r\n              .item-details {\r\n                flex-direction: column;\r\n                align-items: flex-start;\r\n                gap: 4px;\r\n\r\n                .item-spec {\r\n                  margin-right: 0;\r\n                }\r\n              }\r\n\r\n              .item-meta {\r\n                flex-direction: column;\r\n                align-items: flex-start;\r\n                gap: 4px;\r\n\r\n                .source-no {\r\n                  margin-right: 0;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .right-panel {\r\n        .po-preview {\r\n          padding: 16px;\r\n\r\n          .preview-content {\r\n            gap: 16px;\r\n\r\n            .supplier-info,\r\n            .items-preview,\r\n            .amount-summary {\r\n              h4 {\r\n                font-size: 13px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"names":["router","useRouter","loading","ref","creating","candidateGroups","currentSupplierGroup","selectedSupplierId","selectedItems","supplierSearchLoading","supplierSearchQuery","validCandidateGroups","computed","group","fuzzyMatch","text","search","searchLower","textLower","searchIndex","i","filteredCandidateGroups","supplierName","_a","supplierNameEn","_b","supplierId","hasSelection","allSelected","selectedItemsDetails","item","subtotalAmount","total","calculateSubtotal","taxAmount","totalAmount","formatMoney","amount","formatTax","calculateGroupTotal","items","handleBack","handleRefresh","loadCandidates","handleSupplierChange","handleSupplierSearch","query","handleSupplierClear","selectAll","clearSelection","response","procurementApi","candidatesArray","error","ElMessage","createPurchaseOrder","ElMessageBox","createData","newPO","errorData","_c","errorCode","errorMessage","_d","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_unref","PageHeader","_component_el_skeleton","_component_el_empty","_withCtx","_component_el_icon","DocumentCopy","_component_el_button","_createTextVNode","_createElementVNode","_hoisted_5","_component_el_select","_cache","$event","_Fragment","_renderList","_hoisted_6","_normalizeClass","Warning","_createBlock","_component_el_tag","_hoisted_10","_hoisted_11","_hoisted_12","_component_el_checkbox_group","_hoisted_14","_hoisted_15","_hoisted_16","_toDisplayString","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_29","_component_el_card","_hoisted_30","_hoisted_31","_component_el_table","_component_el_table_column","_hoisted_34","row","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_42","_hoisted_28","Select"],"mappings":"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"}