import{d as Oe,y as $e,u as Be,r as b,a as ie,p as Le,a1 as Me,c as v,b as o,e,w as t,Y as re,X as I,al as Fe,a4 as Ne,T as Pe,o as d,g as w,ap as We,i as n,a9 as Ge,t as u,ay as Qe,bc as Ke,bi as Xe,aP as He,q as h,ab as q,aH as ce,b7 as de,F as _e,s as pe,a7 as Je,I as Ye,m as Ze,ah as et,ai as tt,k as at,au as lt,aE as st,E as nt,aj as ot,bj as ut,aD as it,aJ as rt,aQ as ct,aK as dt,av as _t,ao as pt,bg as ft,aw as mt,aO as vt,j as gt,aX as yt,bk as bt,a$ as kt,bl as wt,b0 as ht,aS as Vt,_ as Ct}from"./index-61294aba.js";/* empty css                   *//* empty css                    *//* empty css                  *//* empty css                    *//* empty css                          *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                 *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                     *//* empty css                        *//* empty css               *//* empty css                             *//* empty css                *//* empty css                       *//* empty css               *//* empty css                *//* empty css                     *//* empty css                             *//* empty css                  *//* empty css                  */const qt={class:"acceptance-management"},Et={class:"header-section"},xt={class:"card-header"},It={class:"stats-grid"},jt={class:"stat-item"},Dt={class:"stat-value pending"},Tt={class:"stat-item"},At={class:"stat-value accepted"},St={class:"actions-section"},Rt={class:"quick-actions"},Ut={class:"items-section"},zt={class:"card-header"},Ot={class:"header-actions"},$t={key:0},Bt={class:"expand-content"},Lt={class:"item-details"},Mt={key:0,class:"purchase-info"},Ft={class:"item-info"},Nt={class:"item-name"},Pt={key:0,class:"item-spec"},Wt={class:"quantity-info"},Gt={class:"quantity"},Qt={class:"unit"},Kt={key:0,class:"storage-location"},Xt={key:1,class:"no-storage"},Ht={key:1,class:"card-view"},Jt={class:"card-item-header"},Yt={class:"item-title"},Zt={class:"status-tags"},ea={class:"card-content"},ta={class:"basic-info"},aa={class:"card-actions"},la={key:0,class:"accept-content"},sa={class:"item-summary"},na={class:"simple-accept-buttons"},oa={key:0,class:"reject-content"},ua={key:0,class:"detail-content"},ia={class:"acceptance-record"},ra={key:0},ca={key:1},da={class:"document-gallery"},_a=Oe({__name:"Acceptance",setup(pa){const Q=$e(),K=Be(),S=b(!1),$=b(!1),B=b(!1),x=b([]),i=b(null),L=b("table"),M=b("basic"),g=ie({status:"",category:"",dateRange:null,showOnlyMyItems:!0}),R=b(!1),j=b(!1),U=b(!1),y=ie({reason:"",details:"",suggestions:[],photos:[]}),X=b(),fe={reason:[{required:!0,message:"請選擇拒絕原因",trigger:"change"}],details:[{required:!0,message:"請詳細說明拒絕原因",trigger:"blur"}]},H=Le(()=>{const s=x.value,a=s.filter(r=>r.acceptance_status==="已驗收"||r.acceptance_status==="accepted").length,p=s.filter(r=>!r.acceptance_status||r.acceptance_status==="pending_acceptance"||(r.item_status==="arrived"||r.item_status==="warehoused")&&r.acceptance_status!=="已驗收"&&r.acceptance_status!=="accepted").length;return{acceptedCount:a,pendingCount:p}}),V=async()=>{var s,a,p;try{S.value=!0;let f=(await re.getMyAcceptanceItems(g.status)).map(c=>{var z;let m=null;return c.acceptance_status==="accepted"?m="已驗收":c.acceptance_status==="pending_acceptance"?m="待驗收":c.acceptance_status==="rejected"&&(m="已拒絕"),{detail_id:c.detail_id,item_name:c.item_name,item_specification:c.item_specification,item_quantity:c.item_quantity,item_unit:c.item_unit,request_order_no:c.request_order_no,requester_name:((z=K.currentUser)==null?void 0:z.chinese_name)||"當前用戶",item_status:c.item_status,acceptance_status:m,raw_acceptance_status:c.acceptance_status,storage_location:c.storage_location,is_warehoused:c.is_warehoused,request_date:new Date().toISOString().split("T")[0],expected_delivery:new Date().toISOString().split("T")[0],actual_arrival:new Date().toISOString().split("T")[0]}});if(g.status&&(f=f.filter(c=>{switch(g.status){case"pending":return!c.raw_acceptance_status||c.raw_acceptance_status==="pending_acceptance";case"accepted":return c.raw_acceptance_status==="accepted";case"rejected":return c.raw_acceptance_status==="rejected";default:return!0}})),g.showOnlyMyItems){const c=((s=K.currentUser)==null?void 0:s.chinese_name)||"當前用戶";f=f.filter(m=>m.requester_name===c)}x.value=f}catch(r){console.error("Error loading acceptance items:",r),I.error("載入驗收項目失敗: "+(((p=(a=r.response)==null?void 0:a.data)==null?void 0:p.message)||r.message)),x.value=[]}finally{S.value=!1}},me=()=>{V()},J=s=>{i.value=s,R.value=!0},ve=s=>{i.value=s,y.reason="",y.details="",y.suggestions=[],y.photos=[],j.value=!0},ge=async()=>{var s,a;try{$.value=!0,await re.confirmAcceptance(i.value.detail_id,{accepted_quantity:i.value.item_quantity,notes:"用戶驗收確認"}),I.success("物料驗收成功"),R.value=!1,await V()}catch(p){console.error("Acceptance confirmation error:",p),I.error("驗收失敗: "+(((a=(s=p.response)==null?void 0:s.data)==null?void 0:a.message)||p.message))}finally{$.value=!1}},ye=async()=>{var s;try{await((s=X.value)==null?void 0:s.validate()),B.value=!0,I.success("物料拒絕成功"),j.value=!1,await V()}catch{I.error("拒絕失敗")}finally{B.value=!1}},Y=s=>{i.value=s,M.value="basic",U.value=!0},Z=s=>{Q.push(`/requisitions/${s}`)},be=s=>{Q.push(`/purchase-orders/${s}`)},ke=()=>{I.info("匯出報告功能開發中")},ee=s=>{const a=s.item_status==="arrived"||s.item_status==="warehoused",p=s.raw_acceptance_status==="pending_acceptance"||!s.raw_acceptance_status,r=s.acceptance_status!=="已驗收"&&s.acceptance_status!=="accepted";return(a||p)&&r},we=({row:s})=>s.acceptance_status==="rejected"?"rejected-row":"",he=s=>{switch(s){case"已到貨":return"warning";case"已入庫":return"primary";case"已驗收":return"success";default:return"info"}},te=s=>s.is_warehoused||s.storage_location?"success":s.raw_acceptance_status==="pending_acceptance"||s.acceptance_status==="待驗收"&&s.acceptance_status!=="已驗收"?"primary":"warning",ae=s=>s.is_warehoused||s.storage_location?"已入庫":s.raw_acceptance_status==="pending_acceptance"||s.acceptance_status==="待驗收"&&!s.acceptance_status==="已驗收"?"可驗收":"未入庫",le=s=>{switch(s){case"已驗收":return"success";default:return"info"}},Ve=s=>he(s),Ce=s=>s,qe=s=>{switch(s){case"good":return"success";case"acceptable":return"warning";case"defective":return"danger";default:return"info"}},Ee=s=>{switch(s){case"good":return"品質良好";case"acceptable":return"可接受";case"defective":return"有環疑";default:return"-"}},D=s=>s?(typeof s=="string"?new Date(s):s).toLocaleDateString("zh-TW"):"-",xe=s=>s?(typeof s=="string"?new Date(s):s).toLocaleString("zh-TW"):"-";return Me(()=>{V()}),(s,a)=>{const p=Ye,r=Ze,f=et,c=tt,m=at,z=lt,T=st,se=nt,A=Fe,F=ot,ne=Ne,oe=ut,Ie=it,_=rt,N=ct,O=dt,k=_t,E=pt,P=ft,je=mt,ue=vt,W=Pe,De=gt,Te=yt,Ae=bt,G=kt,Se=wt,Re=ht,Ue=Vt;return d(),v("div",qt,[o("div",Et,[e(ne,{gutter:20},{default:t(()=>[e(F,{span:16},{default:t(()=>[e(A,null,{header:t(()=>[o("div",xt,[a[17]||(a[17]=o("span",null,"我的驗收任務",-1)),o("div",null,[e(r,{type:"primary",onClick:me},{default:t(()=>[e(p,null,{default:t(()=>[e(w(We))]),_:1}),a[16]||(a[16]=n(" 重新整理 ",-1))]),_:1})])])]),default:t(()=>[e(se,{inline:!0,model:g},{default:t(()=>[e(m,{label:"物料狀態"},{default:t(()=>[e(c,{modelValue:g.status,"onUpdate:modelValue":a[0]||(a[0]=l=>g.status=l),onChange:V,style:{width:"150px"},clearable:""},{default:t(()=>[e(f,{label:"全部",value:""}),e(f,{label:"待驗收",value:"pending"}),e(f,{label:"已驗收",value:"accepted"}),e(f,{label:"已拒絕",value:"rejected"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"類型"},{default:t(()=>[e(c,{modelValue:g.category,"onUpdate:modelValue":a[1]||(a[1]=l=>g.category=l),onChange:V,style:{width:"150px"},clearable:""},{default:t(()=>[e(f,{label:"電子元件",value:"electronic"}),e(f,{label:"機械零件",value:"mechanical"}),e(f,{label:"辦公用品",value:"office"}),e(f,{label:"實驗設備",value:"lab"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"申請日期"},{default:t(()=>[e(z,{modelValue:g.dateRange,"onUpdate:modelValue":a[2]||(a[2]=l=>g.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期",onChange:V,style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(m,{label:"申請人篩選"},{default:t(()=>[e(T,{modelValue:g.showOnlyMyItems,"onUpdate:modelValue":a[3]||(a[3]=l=>g.showOnlyMyItems=l),onChange:V},{default:t(()=>[...a[18]||(a[18]=[n(" 只顯示我申請的物料 ",-1)])]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(r,{type:"primary",onClick:V,loading:S.value},{default:t(()=>[e(p,null,{default:t(()=>[e(w(Ge))]),_:1}),a[19]||(a[19]=n(" 查詢 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),e(F,{span:8},{default:t(()=>[e(A,{class:"stats-card"},{default:t(()=>[o("div",It,[o("div",jt,[o("div",Dt,u(H.value.pendingCount),1),a[20]||(a[20]=o("div",{class:"stat-label"},"待驗收",-1))]),o("div",Tt,[o("div",At,u(H.value.acceptedCount),1),a[21]||(a[21]=o("div",{class:"stat-label"},"已驗收",-1))])])]),_:1})]),_:1})]),_:1})]),o("div",St,[e(A,null,{default:t(()=>[o("div",Rt,[e(r,{onClick:ke},{default:t(()=>[e(p,null,{default:t(()=>[e(w(Qe))]),_:1}),a[22]||(a[22]=n(" 匯出報告 ",-1))]),_:1})])]),_:1})]),o("div",Ut,[e(A,null,{header:t(()=>[o("div",zt,[o("span",null,"驗收項目列表 ("+u(x.value.length)+" 項)",1),o("div",Ot,[e(Ie,{modelValue:L.value,"onUpdate:modelValue":a[4]||(a[4]=l=>L.value=l),size:"small"},{default:t(()=>[e(oe,{value:"table"},{default:t(()=>[e(p,null,{default:t(()=>[e(w(Ke))]),_:1}),a[23]||(a[23]=n(" 表格檢視 ",-1))]),_:1}),e(oe,{value:"card"},{default:t(()=>[e(p,null,{default:t(()=>[e(w(Xe))]),_:1}),a[24]||(a[24]=n(" 卡片檢視 ",-1))]),_:1})]),_:1},8,["modelValue"])])])]),default:t(()=>[L.value==="table"?(d(),v("div",$t,[He((d(),h(je,{data:x.value,stripe:"","row-class-name":we},{default:t(()=>[e(k,{type:"expand",width:"30"},{default:t(({row:l})=>[o("div",Bt,[o("div",Lt,[a[26]||(a[26]=o("h4",null,"物料詳細資訊",-1)),e(O,{column:2,border:""},{default:t(()=>[e(_,{label:"物料名稱"},{default:t(()=>[n(u(l.item_name),1)]),_:2},1024),e(_,{label:"規格說明"},{default:t(()=>[n(u(l.item_specification||"-"),1)]),_:2},1024),e(_,{label:"請購數量"},{default:t(()=>[n(u(l.item_quantity)+" "+u(l.item_unit),1)]),_:2},1024),e(_,{label:"請購單號"},{default:t(()=>[e(N,{type:"primary",onClick:C=>Z(l.request_order_no)},{default:t(()=>[n(u(l.request_order_no),1)]),_:2},1032,["onClick"])]),_:2},1024),e(_,{label:"申請人"},{default:t(()=>[n(u(l.requester_name),1)]),_:2},1024),e(_,{label:"申請日期"},{default:t(()=>[n(u(D(l.request_date)),1)]),_:2},1024),e(_,{label:"預期交期"},{default:t(()=>[n(u(D(l.expected_delivery)),1)]),_:2},1024),e(_,{label:"實際到貨"},{default:t(()=>[n(u(D(l.actual_arrival)),1)]),_:2},1024)]),_:2},1024),l.purchase_info?(d(),v("div",Mt,[a[25]||(a[25]=o("h5",null,"採購資訊",-1)),e(O,{column:2,border:"",size:"small"},{default:t(()=>[e(_,{label:"採購單號"},{default:t(()=>[e(N,{type:"primary",onClick:C=>be(l.purchase_info.po_no)},{default:t(()=>[n(u(l.purchase_info.po_no),1)]),_:2},1032,["onClick"])]),_:2},1024),e(_,{label:"供應商"},{default:t(()=>[n(u(l.purchase_info.supplier_name),1)]),_:2},1024),e(_,{label:"單價"},{default:t(()=>[n(u(l.purchase_info.unit_price),1)]),_:2},1024),e(_,{label:"總價"},{default:t(()=>[n(u(l.purchase_info.total_price),1)]),_:2},1024)]),_:2},1024)])):q("",!0)])])]),_:1}),e(k,{prop:"item_name",label:"物料名稱",width:"200"},{default:t(({row:l})=>[o("div",Ft,[o("div",Nt,u(l.item_name),1),l.item_specification?(d(),v("div",Pt,u(l.item_specification),1)):q("",!0)])]),_:1}),e(k,{label:"數量/單位",width:"120",align:"center"},{default:t(({row:l})=>[o("div",Wt,[o("span",Gt,u(l.item_quantity),1),o("span",Qt,u(l.item_unit),1)])]),_:1}),e(k,{prop:"request_order_no",label:"請購單號",width:"140"},{default:t(({row:l})=>[e(N,{type:"primary",onClick:C=>Z(l.request_order_no)},{default:t(()=>[n(u(l.request_order_no),1)]),_:2},1032,["onClick"])]),_:1}),e(k,{prop:"requester_name",label:"申請人",width:"100"}),e(k,{label:"物料狀態",width:"120"},{default:t(({row:l})=>[e(E,{type:te(l),size:"small"},{default:t(()=>[n(u(ae(l)),1)]),_:2},1032,["type"])]),_:1}),e(k,{label:"儲位",width:"120"},{default:t(({row:l})=>[l.storage_location?(d(),v("span",Kt,u(l.storage_location),1)):(d(),v("span",Xt,"-"))]),_:1}),e(k,{label:"驗收狀態",width:"120"},{default:t(({row:l})=>[l.acceptance_status?(d(),h(E,{key:0,type:le(l.acceptance_status),size:"small"},{default:t(()=>[n(u(l.acceptance_status),1)]),_:2},1032,["type"])):(d(),h(E,{key:1,type:"warning",size:"small"},{default:t(()=>[...a[27]||(a[27]=[n(" 待驗收 ",-1)])]),_:1}))]),_:1}),e(k,{prop:"actual_arrival",label:"到貨時間",width:"120"},{default:t(({row:l})=>[n(u(D(l.actual_arrival)),1)]),_:1}),e(k,{label:"操作",width:"200",fixed:"right"},{default:t(({row:l})=>[ee(l)?(d(),h(P,{key:0},{default:t(()=>[e(r,{size:"small",type:"primary",onClick:C=>J(l)},{default:t(()=>[e(p,null,{default:t(()=>[e(w(ce))]),_:1}),a[28]||(a[28]=n(" 驗收 ",-1))]),_:1},8,["onClick"])]),_:2},1024)):(d(),h(P,{key:1},{default:t(()=>[e(r,{size:"small",type:"info",onClick:C=>Y(l)},{default:t(()=>[e(p,null,{default:t(()=>[e(w(de))]),_:1}),a[29]||(a[29]=n(" 詳情 ",-1))]),_:1},8,["onClick"])]),_:2},1024))]),_:1})]),_:1},8,["data"])),[[Ue,S.value]])])):(d(),v("div",Ht,[e(ne,{gutter:20},{default:t(()=>[(d(!0),v(_e,null,pe(x.value,l=>(d(),h(F,{span:8,key:l.detail_id},{default:t(()=>[e(A,{class:"acceptance-card"},{header:t(()=>[o("div",Jt,[o("div",Yt,[o("h4",null,u(l.item_name),1),o("div",Zt,[e(E,{type:te(l),size:"small"},{default:t(()=>[n(u(ae(l)),1)]),_:2},1032,["type"]),l.acceptance_status?(d(),h(E,{key:0,type:le(l.acceptance_status),size:"small"},{default:t(()=>[n(u(l.acceptance_status),1)]),_:2},1032,["type"])):q("",!0)])])])]),default:t(()=>[o("div",ea,[o("div",ta,[o("p",null,[a[30]||(a[30]=o("strong",null,"規格:",-1)),n(" "+u(l.item_specification||"-"),1)]),o("p",null,[a[31]||(a[31]=o("strong",null,"數量:",-1)),n(" "+u(l.item_quantity)+" "+u(l.item_unit),1)]),o("p",null,[a[32]||(a[32]=o("strong",null,"申請人:",-1)),n(" "+u(l.requester_name),1)]),o("p",null,[a[33]||(a[33]=o("strong",null,"儲位:",-1)),n(" "+u(l.storage_location||"-"),1)]),o("p",null,[a[34]||(a[34]=o("strong",null,"到貨時間:",-1)),n(" "+u(D(l.actual_arrival)),1)])]),o("div",aa,[ee(l)?(d(),h(P,{key:0},{default:t(()=>[e(r,{size:"small",type:"primary",onClick:C=>J(l)},{default:t(()=>[e(p,null,{default:t(()=>[e(w(ce))]),_:1}),a[35]||(a[35]=n(" 驗收 ",-1))]),_:1},8,["onClick"])]),_:2},1024)):(d(),h(r,{key:1,size:"small",type:"info",onClick:C=>Y(l)},{default:t(()=>[e(p,null,{default:t(()=>[e(w(de))]),_:1}),a[36]||(a[36]=n(" 詳情 ",-1))]),_:1},8,["onClick"]))])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))]),_:1})]),e(W,{modelValue:R.value,"onUpdate:modelValue":a[6]||(a[6]=l=>R.value=l),title:"驗收確認",width:"500px"},{footer:t(()=>[o("div",na,[e(r,{size:"large",onClick:a[5]||(a[5]=l=>ve(i.value)),type:"danger"},{default:t(()=>[...a[39]||(a[39]=[n(" 拒絕驗收 ",-1)])]),_:1}),e(r,{size:"large",type:"success",onClick:ge,loading:$.value},{default:t(()=>[...a[40]||(a[40]=[n(" 朕知道了 ",-1)])]),_:1},8,["loading"])])]),default:t(()=>[i.value?(d(),v("div",la,[e(ue,{title:"驗收確認",type:"info","show-icon":""},{default:t(()=>[...a[37]||(a[37]=[n(" 請確認是否接收以下物料 ",-1)])]),_:1}),o("div",sa,[a[38]||(a[38]=o("h4",null,"物料資訊",-1)),e(O,{column:1,border:""},{default:t(()=>[e(_,{label:"物料名稱"},{default:t(()=>[n(u(i.value.item_name),1)]),_:1}),e(_,{label:"規格說明"},{default:t(()=>[n(u(i.value.item_specification||"-"),1)]),_:1}),e(_,{label:"數量"},{default:t(()=>[n(u(i.value.item_quantity)+" "+u(i.value.item_unit),1)]),_:1})]),_:1})])])):q("",!0)]),_:1},8,["modelValue"]),e(W,{modelValue:j.value,"onUpdate:modelValue":a[12]||(a[12]=l=>j.value=l),title:"拒絕驗收",width:"600px"},{footer:t(()=>[e(r,{onClick:a[11]||(a[11]=l=>j.value=!1)},{default:t(()=>[...a[46]||(a[46]=[n("取消",-1)])]),_:1}),e(r,{type:"danger",onClick:ye,loading:B.value},{default:t(()=>[...a[47]||(a[47]=[n(" 確認拒絕 ",-1)])]),_:1},8,["loading"])]),default:t(()=>[i.value?(d(),v("div",oa,[e(ue,{title:"拒絕驗收",type:"error","show-icon":""},{default:t(()=>[...a[41]||(a[41]=[n(" 請詳細說明拒絕驗收的原因，以便相關人員處理。 ",-1)])]),_:1}),e(se,{model:y,rules:fe,ref_key:"rejectFormRef",ref:X,"label-width":"120px"},{default:t(()=>[e(m,{label:"拒絕原因",prop:"reason"},{default:t(()=>[e(c,{modelValue:y.reason,"onUpdate:modelValue":a[7]||(a[7]=l=>y.reason=l),style:{width:"100%"}},{default:t(()=>[e(f,{label:"物料不符",value:"incorrect_item"}),e(f,{label:"數量不符",value:"incorrect_quantity"}),e(f,{label:"品質不佳",value:"poor_quality"}),e(f,{label:"损壞破損",value:"damaged"}),e(f,{label:"過期交貨",value:"overdue"}),e(f,{label:"規格不符",value:"incorrect_spec"}),e(f,{label:"其他原因",value:"other"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"詳細說明",prop:"details"},{default:t(()=>[e(De,{modelValue:y.details,"onUpdate:modelValue":a[8]||(a[8]=l=>y.details=l),type:"textarea",rows:"4",placeholder:"請詳細說明拒絕原因和具體情況..."},null,8,["modelValue"])]),_:1}),e(m,{label:"建議處理"},{default:t(()=>[e(Te,{modelValue:y.suggestions,"onUpdate:modelValue":a[9]||(a[9]=l=>y.suggestions=l)},{default:t(()=>[e(T,{value:"return_supplier"},{default:t(()=>[...a[42]||(a[42]=[n("退回供應商",-1)])]),_:1}),e(T,{value:"reorder"},{default:t(()=>[...a[43]||(a[43]=[n("重新訂購",-1)])]),_:1}),e(T,{value:"partial_accept"},{default:t(()=>[...a[44]||(a[44]=[n("部分接受",-1)])]),_:1}),e(T,{value:"quality_check"},{default:t(()=>[...a[45]||(a[45]=[n("品質檢驗",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"相關照片"},{default:t(()=>[e(Ae,{"file-list":y.photos,"onUpdate:fileList":a[10]||(a[10]=l=>y.photos=l),action:"/api/upload","list-type":"picture-card","auto-upload":!1},{default:t(()=>[e(p,null,{default:t(()=>[e(w(Je))]),_:1})]),_:1},8,["file-list"])]),_:1})]),_:1},8,["model"])])):q("",!0)]),_:1},8,["modelValue"]),e(W,{modelValue:U.value,"onUpdate:modelValue":a[15]||(a[15]=l=>U.value=l),title:"驗收詳情",width:"800px"},{footer:t(()=>[e(r,{onClick:a[14]||(a[14]=l=>U.value=!1)},{default:t(()=>[...a[50]||(a[50]=[n("關閉",-1)])]),_:1})]),default:t(()=>[i.value?(d(),v("div",ua,[e(Re,{modelValue:M.value,"onUpdate:modelValue":a[13]||(a[13]=l=>M.value=l)},{default:t(()=>[e(G,{label:"基本資訊",name:"basic"},{default:t(()=>[e(O,{column:2,border:""},{default:t(()=>[e(_,{label:"物料名稱"},{default:t(()=>[n(u(i.value.item_name),1)]),_:1}),e(_,{label:"規格說明"},{default:t(()=>[n(u(i.value.item_specification||"-"),1)]),_:1}),e(_,{label:"請購數量"},{default:t(()=>[n(u(i.value.item_quantity)+" "+u(i.value.item_unit),1)]),_:1}),e(_,{label:"實收數量"},{default:t(()=>[n(u(i.value.accepted_quantity||"-"),1)]),_:1}),e(_,{label:"申請人"},{default:t(()=>[n(u(i.value.requester_name),1)]),_:1}),e(_,{label:"驗收狀態"},{default:t(()=>[e(E,{type:Ve(i.value.acceptance_status)},{default:t(()=>[n(u(Ce(i.value.acceptance_status)),1)]),_:1},8,["type"])]),_:1}),e(_,{label:"驗收時間"},{default:t(()=>[n(u(xe(i.value.acceptance_time)),1)]),_:1}),e(_,{label:"驗收人"},{default:t(()=>[n(u(i.value.acceptor_name||"-"),1)]),_:1})]),_:1})]),_:1}),e(G,{label:"驗收記錄",name:"record"},{default:t(()=>[o("div",ia,[a[48]||(a[48]=o("h4",null,"驗收備註",-1)),o("p",null,u(i.value.acceptance_notes||"無備註"),1),a[49]||(a[49]=o("h4",null,"品質狀況",-1)),e(E,{type:qe(i.value.quality_status)},{default:t(()=>[n(u(Ee(i.value.quality_status)),1)]),_:1},8,["type"]),i.value.rejection_reason?(d(),v("h4",ra,"拒絕原因")):q("",!0),i.value.rejection_reason?(d(),v("p",ca,u(i.value.rejection_reason),1)):q("",!0)])]),_:1}),e(G,{label:"文件照片",name:"documents"},{default:t(()=>[o("div",da,[(d(!0),v(_e,null,pe(i.value.photos,(l,C)=>(d(),h(Se,{key:C,src:l.url,"preview-src-list":i.value.photos.map(ze=>ze.url),fit:"cover",style:{width:"100px",height:"100px","margin-right":"10px"}},null,8,["src","preview-src-list"]))),128))])]),_:1})]),_:1},8,["modelValue"])])):q("",!0)]),_:1},8,["modelValue"])])}}});const $a=Ct(_a,[["__scopeId","data-v-e8e315e5"],["__file","D:/AWORKSPACE/Github/project_ERP_dev_agent/frontend/src/views/inventory/Acceptance.vue"]]);export{$a as default};
//# sourceMappingURL=Acceptance-9850d9cc.js.map
