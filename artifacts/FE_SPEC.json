{
  "schema_version": "1.0",
  "generated_by": "erp-frontend-lead",
  "title": "ERP Frontend Specification",
  "description": "Frontend specification for Enterprise Resource Planning system with Vue.js 3",
  "architecture": {
    "framework": "Vue.js 3",
    "ui_library": "Element Plus",
    "state_management": "Pinia",
    "routing": "Vue Router",
    "http_client": "Axios",
    "build_tool": "Vite",
    "styling": "SCSS with Element Plus theme",
    "patterns": ["Composition API", "MVVM", "Component-based architecture"],
    "design_system": {
      "colors": "Element Plus default theme",
      "typography": "Element Plus typography system",
      "spacing": "Element Plus spacing tokens"
    }
  },
  "state_management": {
    "stores": {
      "authStore": {
        "purpose": "Handle user authentication and role management",
        "state": {
          "user": "object",
          "token": "string",
          "roles": "array",
          "isAuthenticated": "boolean"
        },
        "actions": ["login", "logout", "refreshToken", "checkRole"],
        "getters": ["hasRole", "userName", "userPermissions"]
      },
      "requisitionStore": {
        "purpose": "Manage purchase requisitions lifecycle",
        "state": {
          "requisitions": "array",
          "currentRequisition": "object",
          "loading": "boolean",
          "filters": "object"
        },
        "actions": ["fetchRequisitions", "createRequisition", "submitRequisition", "updateRequisition", "approveItem", "rejectItem"],
        "getters": ["pendingRequisitions", "myRequisitions", "requisitionById"]
      },
      "procurementStore": {
        "purpose": "Handle procurement order management",
        "state": {
          "purchaseOrders": "array",
          "buildCandidates": "object",
          "currentPO": "object",
          "loading": "boolean"
        },
        "actions": ["fetchBuildCandidates", "createPO", "confirmPurchase", "withdrawPO", "reorganizePO"],
        "getters": ["poBySupplier", "activePOs", "poById"]
      },
      "leadtimeStore": {
        "purpose": "Track shipping and delivery timelines",
        "state": {
          "shipments": "array",
          "consolidations": "array",
          "currentShipment": "object",
          "loading": "boolean"
        },
        "actions": ["fetchShipments", "updateMilestone", "createConsolidation", "updateConsolidation"],
        "getters": ["activeShipments", "domesticShipments", "internationalShipments"]
      },
      "inventoryStore": {
        "purpose": "Manage inventory and storage operations",
        "state": {
          "items": "array",
          "storageTree": "object",
          "currentItem": "object",
          "loading": "boolean"
        },
        "actions": ["fetchInventory", "issueItem", "assignStorage", "updateStorage"],
        "getters": ["itemsByLocation", "availableStock", "itemById"]
      }
    }
  },
  "modules": {
    "authentication": {
      "name": "Authentication Module",
      "description": "User login, role-based access control",
      "routes": [
        {
          "path": "/login",
          "name": "Login",
          "component": "LoginPage",
          "roles": ["guest"]
        },
        {
          "path": "/dashboard",
          "name": "Dashboard",
          "component": "DashboardPage", 
          "roles": ["Everyone"]
        }
      ],
      "components": {
        "LoginPage": {
          "type": "page",
          "purpose": "User authentication interface",
          "template_structure": ["LoginForm", "CompanyLogo", "Footer"],
          "ui_elements": ["el-form", "el-input", "el-button", "el-card"],
          "validation_rules": {
            "username": "required|min:3",
            "password": "required|min:6"
          }
        }
      }
    },
    "requisition": {
      "name": "Purchase Requisition Module",
      "description": "Create and manage purchase requisitions",
      "routes": [
        {
          "path": "/requisitions",
          "name": "RequisitionList",
          "component": "RequisitionListPage",
          "roles": ["Everyone"]
        },
        {
          "path": "/requisitions/create",
          "name": "CreateRequisition",
          "component": "CreateRequisitionPage",
          "roles": ["Everyone"]
        },
        {
          "path": "/requisitions/:id",
          "name": "RequisitionDetail",
          "component": "RequisitionDetailPage",
          "roles": ["Everyone"]
        },
        {
          "path": "/requisitions/:id/review",
          "name": "RequisitionReview",
          "component": "RequisitionReviewPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        }
      ],
      "components": {
        "RequisitionListPage": {
          "type": "page",
          "purpose": "Display list of requisitions with filtering",
          "template_structure": ["FilterBar", "RequisitionTable", "Pagination"],
          "ui_elements": ["el-table", "el-pagination", "el-select", "el-input", "el-button"],
          "roles_visibility": {
            "Everyone": ["my requisitions", "create button"],
            "Procurement": ["all requisitions", "review actions"],
            "ProcurementMgr": ["all requisitions", "approve/reject actions"]
          }
        },
        "CreateRequisitionPage": {
          "type": "page",
          "purpose": "Create new purchase requisition",
          "template_structure": ["RequisitionForm", "ItemsList", "ActionButtons"],
          "ui_elements": ["el-form", "el-input", "el-select", "el-table", "el-button"],
          "validation_rules": {
            "items": "required|array|min:1",
            "purpose": "required|string",
            "quantity": "required|integer|min:1"
          }
        },
        "RequisitionReviewPage": {
          "type": "page",
          "purpose": "Review and approve requisition items",
          "template_structure": ["RequisitionHeader", "ItemsReviewTable", "ApprovalActions"],
          "ui_elements": ["el-card", "el-table", "el-input-number", "el-select", "el-button"],
          "roles_visibility": {
            "Procurement": ["item review", "supplier assignment"],
            "ProcurementMgr": ["full approval", "reject entire requisition"]
          }
        },
        "RequisitionReviewDialog": {
          "type": "dialog",
          "purpose": "Modal dialog for reviewing procurement requisitions with optimized table display",
          "dialog_config": {
            "width": "95vw",
            "max_width": "1400px",
            "min_width": "1200px",
            "top": "5vh",
            "lock_scroll": true,
            "destroy_on_close": true,
            "close_on_click_modal": false,
            "show_close": true,
            "custom_class": "requisition-review-dialog"
          },
          "responsive_design": {
            "breakpoints": {
              "xs": "< 768px",
              "sm": "768px - 992px", 
              "md": "992px - 1200px",
              "lg": "1200px - 1600px",
              "xl": "> 1600px"
            },
            "dialog_widths": {
              "xs": "98vw",
              "sm": "95vw",
              "md": "90vw", 
              "lg": "85vw",
              "xl": "1400px"
            },
            "table_layouts": {
              "xs": "stacked",
              "sm": "horizontal_scroll",
              "md": "horizontal_scroll",
              "lg": "full_width",
              "xl": "full_width"
            }
          },
          "table_optimization": {
            "min_width": "1200px",
            "fixed_columns": {
              "left": ["selection", "index"],
              "right": ["actions"]
            },
            "column_widths": {
              "selection": "55px",
              "index": "60px",
              "item_name": "200px",
              "item_specification": "180px",
              "item_quantity": "80px",
              "item_unit": "80px",
              "item_status": "110px",
              "supplier": "200px",
              "unit_price": "150px",
              "subtotal": "120px",
              "remarks": "180px",
              "actions": "180px"
            },
            "scrollbar_styling": {
              "track_color": "#f1f1f1",
              "thumb_color": "#c1c1c1",
              "thumb_hover_color": "#a8a8a8",
              "height": "8px",
              "border_radius": "4px"
            },
            "column_resizing": true,
            "virtual_scrolling": {
              "enabled": true,
              "item_height": 48,
              "buffer_size": 10
            }
          },
          "mobile_optimizations": {
            "card_layout": {
              "enabled": true,
              "breakpoint": "768px",
              "card_spacing": "12px",
              "show_summary_header": true
            },
            "touch_interactions": {
              "swipe_actions": true,
              "touch_friendly_buttons": {
                "min_height": "44px",
                "min_width": "44px",
                "touch_padding": "8px"
              }
            },
            "simplified_actions": {
              "primary_actions_only": true,
              "action_sheet": true
            }
          },
          "ux_enhancements": {
            "loading_states": {
              "skeleton_loading": true,
              "progressive_disclosure": true
            },
            "error_handling": {
              "inline_validation": true,
              "contextual_help": true,
              "recovery_suggestions": true
            },
            "accessibility": {
              "keyboard_navigation": true,
              "screen_reader_support": true,
              "focus_management": true,
              "aria_labels": true
            },
            "performance": {
              "lazy_loading": true,
              "debounced_inputs": true,
              "optimistic_updates": true
            }
          },
          "workflow_optimization": {
            "bulk_operations": {
              "select_all": true,
              "filter_selection": true,
              "batch_actions": ["approve", "question", "reject"],
              "progress_tracking": true
            },
            "smart_defaults": {
              "remember_supplier_selection": true,
              "price_suggestions": true,
              "validation_hints": true
            },
            "status_management": {
              "visual_status_indicators": true,
              "status_filters": true,
              "status_history": true
            }
          }
        }
      }
    },
    "procurement": {
      "name": "Procurement Module",
      "description": "Create and manage purchase orders",
      "routes": [
        {
          "path": "/procurement/build",
          "name": "BuildPO",
          "component": "BuildPOPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        },
        {
          "path": "/procurement/orders",
          "name": "POList",
          "component": "POListPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        },
        {
          "path": "/procurement/orders/:poNo",
          "name": "PODetail",
          "component": "PODetailPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        }
      ],
      "components": {
        "BuildPOPage": {
          "type": "page",
          "purpose": "Build purchase orders by supplier grouping",
          "template_structure": ["SupplierTabs", "ItemsList", "POPreview"],
          "layout": "split-screen (left: items, right: preview)",
          "ui_elements": ["el-tabs", "el-table", "el-checkbox", "el-card", "el-button"],
          "calculation_rules": {
            "subtotal": "quantity * unit_price (round to integer)",
            "tax": "subtotal * tax_rate (1 decimal place)",
            "total": "subtotal + tax (round to integer)"
          }
        },
        "POListPage": {
          "type": "page",
          "purpose": "Display and manage purchase orders",
          "template_structure": ["FilterBar", "POTable", "BulkActions"],
          "ui_elements": ["el-table", "el-tag", "el-button", "el-select", "el-pagination"],
          "roles_visibility": {
            "Procurement": ["view", "create", "edit draft"],
            "ProcurementMgr": ["view", "create", "confirm purchase", "withdraw"]
          }
        }
      }
    },
    "leadtime": {
      "name": "Lead Time Management Module", 
      "description": "Track shipping and delivery milestones",
      "routes": [
        {
          "path": "/leadtime",
          "name": "LeadTimeBoard",
          "component": "LeadTimeBoardPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        },
        {
          "path": "/leadtime/consolidations",
          "name": "ConsolidationList",
          "component": "ConsolidationListPage",
          "roles": ["Procurement", "ProcurementMgr", "Admin"]
        }
      ],
      "components": {
        "LeadTimeBoardPage": {
          "type": "page",
          "purpose": "Kanban-style board for tracking shipment status",
          "template_structure": ["StatusColumns", "POCards", "MilestoneForm"],
          "ui_elements": ["el-card", "el-form", "el-select", "el-date-picker", "el-input"],
          "layout": "kanban board with status columns"
        }
      }
    },
    "receiving": {
      "name": "Receiving Module",
      "description": "Receive and confirm delivered items",
      "routes": [
        {
          "path": "/receiving",
          "name": "ReceivingList",
          "component": "ReceivingListPage",
          "roles": ["Everyone"]
        },
        {
          "path": "/receiving/po/:poNo",
          "name": "ReceivingDetail",
          "component": "ReceivingDetailPage",
          "roles": ["Everyone"]
        }
      ],
      "components": {
        "ReceivingListPage": {
          "type": "page",
          "purpose": "List items ready for receiving",
          "template_structure": ["RegionTabs", "ItemsTable", "FilterBar"],
          "ui_elements": ["el-tabs", "el-table", "el-button", "el-tag"]
        },
        "ReceivingDetailPage": {
          "type": "page",
          "purpose": "Confirm receipt of individual items",
          "template_structure": ["POHeader", "ItemsTable", "ConfirmActions"],
          "ui_elements": ["el-card", "el-table", "el-button", "el-checkbox"]
        }
      }
    },
    "storage": {
      "name": "Storage Management Module",
      "description": "Manage storage locations and put-away operations",
      "routes": [
        {
          "path": "/storage/putaway",
          "name": "PutAwayList", 
          "component": "PutAwayListPage",
          "roles": ["Everyone"]
        },
        {
          "path": "/storage/locations",
          "name": "StorageLocations",
          "component": "StorageLocationsPage",
          "roles": ["Everyone"]
        }
      ],
      "components": {
        "PutAwayListPage": {
          "type": "page",
          "purpose": "Assign storage locations to received items",
          "template_structure": ["ItemsList", "LocationSelector", "AssignActions"],
          "ui_elements": ["el-table", "el-cascader", "el-button", "el-form"]
        }
      }
    },
    "inventory": {
      "name": "Inventory Module",
      "description": "Query inventory and issue items",
      "routes": [
        {
          "path": "/inventory",
          "name": "InventoryQuery",
          "component": "InventoryQueryPage",
          "roles": ["Everyone"]
        }
      ],
      "components": {
        "InventoryQueryPage": {
          "type": "page",
          "purpose": "Search and issue inventory items",
          "template_structure": ["SearchFilters", "InventoryTable", "IssueModal"],
          "ui_elements": ["el-form", "el-table", "el-dialog", "el-input-number", "el-button"]
        }
      }
    },
    "accounting": {
      "name": "Accounting Module",
      "description": "Generate billing and manage payments",
      "routes": [
        {
          "path": "/accounting/billing",
          "name": "BillingPage",
          "component": "BillingPage",
          "roles": ["ProcurementMgr", "Accountant", "Admin"]
        },
        {
          "path": "/accounting/history",
          "name": "PaymentHistory", 
          "component": "PaymentHistoryPage",
          "roles": ["ProcurementMgr", "Accountant", "Admin"]
        }
      ],
      "components": {
        "BillingPage": {
          "type": "page",
          "purpose": "Generate billing batches for suppliers",
          "template_structure": ["SupplierSelector", "CandidatesTable", "BillingForm"],
          "ui_elements": ["el-select", "el-table", "el-form", "el-button", "el-input-number"]
        }
      }
    }
  },
  "permissions": {
    "roles": {
      "Admin": {
        "description": "System administrator with full access",
        "pages": ["all"],
        "actions": ["all"]
      },
      "ProcurementMgr": {
        "description": "Procurement manager with approval authority",
        "pages": ["requisitions", "procurement", "leadtime", "accounting"],
        "actions": ["approve_requisition", "confirm_purchase", "generate_billing", "mark_paid"]
      },
      "Procurement": {
        "description": "Procurement officer handling daily operations", 
        "pages": ["requisitions", "procurement", "leadtime"],
        "actions": ["review_requisition", "create_po", "update_milestone"]
      },
      "Accountant": {
        "description": "Accounting staff managing payments",
        "pages": ["accounting"],
        "actions": ["generate_billing", "mark_paid", "view_payment_history"]
      },
      "Everyone": {
        "description": "All authenticated users basic access",
        "pages": ["dashboard", "requisitions", "receiving", "storage", "inventory"],
        "actions": ["create_requisition", "confirm_receiving", "assign_storage", "issue_items"]
      }
    }
  },
  "api_integration": {
    "base_url": "/api/v1",
    "authentication": "JWT Bearer token in Authorization header",
    "error_handling": "Centralized error interceptor with user-friendly messages",
    "loading_states": "Global loading overlay and component-level loading indicators"
  },
  "form_validation": {
    "library": "Element Plus built-in validation",
    "patterns": {
      "required_field": "Field is required",
      "positive_integer": "Must be a positive integer", 
      "positive_number": "Must be a positive number",
      "email_format": "Must be valid email format"
    }
  },
  "responsive_design": {
    "breakpoints": {
      "mobile": "< 768px",
      "tablet": "768px - 1024px", 
      "desktop": "> 1024px"
    },
    "approach": "Mobile-first responsive design with Element Plus grid system"
  },
  "testing_strategy": {
    "unit_tests": "Vue Test Utils + Vitest for component testing",
    "integration_tests": "Cypress for E2E user workflows",
    "coverage_target": "80% code coverage minimum"
  }
}